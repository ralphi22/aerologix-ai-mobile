{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.resolveHrefStringWithSegments = exports.resolveHref = void 0;\n  /** Resolve an href object into a fully qualified, relative href. */\n  var resolveHref = function resolveHref(href) {\n    var _href$pathname;\n    if (typeof href === 'string') {\n      return (0, exports.resolveHref)({\n        pathname: href\n      });\n    }\n    var path = (_href$pathname = href.pathname) != null ? _href$pathname : '';\n    if (!(href != null && href.params)) {\n      return path;\n    }\n    var _createQualifiedPathn = createQualifiedPathname(path, Object.assign({}, href.params)),\n      pathname = _createQualifiedPathn.pathname,\n      params = _createQualifiedPathn.params;\n    var paramsString = createQueryParams(params);\n    return pathname + (paramsString ? `?${paramsString}` : '');\n  };\n  exports.resolveHref = resolveHref;\n  function resolveHrefStringWithSegments(href) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$segments = _ref.segments,\n      segments = _ref$segments === void 0 ? [] : _ref$segments,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params;\n    var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      relativeToDirectory = _ref2.relativeToDirectory;\n    if (href.startsWith('.')) {\n      var _segments$map$filter$;\n      // Resolve base path by merging the current segments with the params\n      var base = (_segments$map$filter$ = segments == null ? void 0 : segments.map(function (segment) {\n        if (!segment.startsWith('[')) return segment;\n        if (segment.startsWith('[...')) {\n          segment = segment.slice(4, -1);\n          var param = params[segment];\n          if (Array.isArray(param)) {\n            return param.join('/');\n          } else {\n            var _param$split$join, _param$split;\n            return (_param$split$join = param == null || (_param$split = param.split(',')) == null ? void 0 : _param$split.join('/')) != null ? _param$split$join : '';\n          }\n        } else {\n          segment = segment.slice(1, -1);\n          return params[segment];\n        }\n      }).filter(Boolean).join('/')) != null ? _segments$map$filter$ : '/';\n      if (relativeToDirectory) {\n        base = `${base}/`;\n      }\n      var url = new URL(href, `http://hostname/${base}`);\n      href = `${url.pathname}${url.search}`;\n    }\n    return href;\n  }\n  exports.resolveHrefStringWithSegments = resolveHrefStringWithSegments;\n  function createQualifiedPathname(pathname, params) {\n    for (var _ref3 of Object.entries(params)) {\n      var _ref4 = _slicedToArray(_ref3, 2);\n      var key = _ref4[0];\n      var _ref4$ = _ref4[1];\n      var value = _ref4$ === void 0 ? '' : _ref4$;\n      var dynamicKey = `[${key}]`;\n      var deepDynamicKey = `[...${key}]`;\n      if (pathname.includes(dynamicKey)) {\n        pathname = pathname.replace(dynamicKey, encodeParam(value));\n      } else if (pathname.includes(deepDynamicKey)) {\n        pathname = pathname.replace(deepDynamicKey, encodeParam(value));\n      } else {\n        continue;\n      }\n      delete params[key];\n    }\n    return {\n      pathname: pathname,\n      params: params\n    };\n  }\n  function encodeParam(param) {\n    if (Array.isArray(param)) {\n      return param.map(function (p) {\n        return encodeParam(p);\n      }).join('/');\n    }\n    return encodeURIComponent(param.toString());\n  }\n  function createQueryParams(params) {\n    return Object.entries(params)\n    // Allow nullish params\n    .filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        value = _ref6[1];\n      return value != null;\n    }).map(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n        key = _ref8[0],\n        value = _ref8[1];\n      return `${key}=${encodeURIComponent(value.toString())}`;\n    }).join('&');\n  }\n});","lineCount":108,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[4,90,1,13,"default"],[4,97,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"resolveHrefStringWithSegments"],[8,39,3,37],[8,42,3,40,"exports"],[8,49,3,47],[8,50,3,48,"resolveHref"],[8,61,3,59],[8,64,3,62],[8,69,3,67],[8,70,3,68],[9,2,4,0],[10,2,5,0],[10,6,5,6,"resolveHref"],[10,17,5,17],[10,20,5,20],[10,29,5,6,"resolveHref"],[10,40,5,17,"resolveHref"],[10,41,5,21,"href"],[10,45,5,25],[10,47,5,30],[11,4,5,30],[11,8,5,30,"_href$pathname"],[11,22,5,30],[12,4,6,4],[12,8,6,8],[12,15,6,15,"href"],[12,19,6,19],[12,24,6,24],[12,32,6,32],[12,34,6,34],[13,6,7,8],[13,13,7,15],[13,14,7,16],[13,15,7,17],[13,17,7,19,"exports"],[13,24,7,26],[13,25,7,27,"resolveHref"],[13,36,7,38],[13,38,7,40],[14,8,7,42,"pathname"],[14,16,7,50],[14,18,7,52,"href"],[15,6,7,57],[15,7,7,58],[15,8,7,59],[16,4,8,4],[17,4,9,4],[17,8,9,10,"path"],[17,12,9,14],[17,16,9,14,"_href$pathname"],[17,30,9,14],[17,33,9,17,"href"],[17,37,9,21],[17,38,9,22,"pathname"],[17,46,9,30],[17,58,9,30,"_href$pathname"],[17,72,9,30],[17,75,9,34],[17,77,9,36],[18,4,10,4],[18,8,10,8],[18,10,10,9,"href"],[18,14,10,13],[18,26,10,9,"href"],[18,30,10,13],[18,31,10,15,"params"],[18,37,10,21],[18,40,10,23],[19,6,11,8],[19,13,11,15,"path"],[19,17,11,19],[20,4,12,4],[21,4,13,4],[21,8,13,4,"_createQualifiedPathn"],[21,29,13,4],[21,32,13,33,"createQualifiedPathname"],[21,55,13,56],[21,56,13,57,"path"],[21,60,13,61],[21,62,13,61,"Object"],[21,68,13,61],[21,69,13,61,"assign"],[21,75,13,61],[21,80,14,11,"href"],[21,84,14,15],[21,85,14,16,"params"],[21,91,14,22],[21,92,15,5],[21,93,15,6],[22,6,13,12,"pathname"],[22,14,13,20],[22,17,13,20,"_createQualifiedPathn"],[22,38,13,20],[22,39,13,12,"pathname"],[22,47,13,20],[23,6,13,22,"params"],[23,12,13,28],[23,15,13,28,"_createQualifiedPathn"],[23,36,13,28],[23,37,13,22,"params"],[23,43,13,28],[24,4,16,4],[24,8,16,10,"paramsString"],[24,20,16,22],[24,23,16,25,"createQueryParams"],[24,40,16,42],[24,41,16,43,"params"],[24,47,16,49],[24,48,16,50],[25,4,17,4],[25,11,17,11,"pathname"],[25,19,17,19],[25,23,17,23,"paramsString"],[25,35,17,35],[25,38,17,38],[25,42,17,42,"paramsString"],[25,54,17,54],[25,56,17,56],[25,59,17,59],[25,61,17,61],[25,62,17,62],[26,2,18,0],[26,3,18,1],[27,2,19,0,"exports"],[27,9,19,7],[27,10,19,8,"resolveHref"],[27,21,19,19],[27,24,19,22,"resolveHref"],[27,35,19,33],[28,2,20,0],[28,11,20,9,"resolveHrefStringWithSegments"],[28,40,20,38,"resolveHrefStringWithSegments"],[28,41,20,39,"href"],[28,45,20,43],[28,47,20,112],[29,4,20,112],[29,8,20,112,"_ref"],[29,12,20,112],[29,15,20,112,"arguments"],[29,24,20,112],[29,25,20,112,"length"],[29,31,20,112],[29,39,20,112,"arguments"],[29,48,20,112],[29,56,20,112,"undefined"],[29,65,20,112],[29,68,20,112,"arguments"],[29,77,20,112],[29,83,20,78],[29,84,20,79],[29,85,20,80],[30,6,20,80,"_ref$segments"],[30,19,20,80],[30,22,20,80,"_ref"],[30,26,20,80],[30,27,20,47,"segments"],[30,35,20,55],[31,6,20,47,"segments"],[31,14,20,55],[31,17,20,55,"_ref$segments"],[31,30,20,55],[31,44,20,58],[31,46,20,60],[31,49,20,60,"_ref$segments"],[31,62,20,60],[32,6,20,60,"_ref$params"],[32,17,20,60],[32,20,20,60,"_ref"],[32,24,20,60],[32,25,20,62,"params"],[32,31,20,68],[33,6,20,62,"params"],[33,12,20,68],[33,15,20,68,"_ref$params"],[33,26,20,68],[33,40,20,71],[33,41,20,72],[33,42,20,73],[33,45,20,73,"_ref$params"],[33,56,20,73],[34,4,20,73],[34,8,20,73,"_ref2"],[34,13,20,73],[34,16,20,73,"arguments"],[34,25,20,73],[34,26,20,73,"length"],[34,32,20,73],[34,40,20,73,"arguments"],[34,49,20,73],[34,57,20,73,"undefined"],[34,66,20,73],[34,69,20,73,"arguments"],[34,78,20,73],[34,84,20,108],[34,85,20,109],[34,86,20,110],[35,6,20,84,"relativeToDirectory"],[35,25,20,103],[35,28,20,103,"_ref2"],[35,33,20,103],[35,34,20,84,"relativeToDirectory"],[35,53,20,103],[36,4,21,4],[36,8,21,8,"href"],[36,12,21,12],[36,13,21,13,"startsWith"],[36,23,21,23],[36,24,21,24],[36,27,21,27],[36,28,21,28],[36,30,21,30],[37,6,21,30],[37,10,21,30,"_segments$map$filter$"],[37,31,21,30],[38,6,22,8],[39,6,23,8],[39,10,23,12,"base"],[39,14,23,16],[39,18,23,16,"_segments$map$filter$"],[39,39,23,16],[39,42,23,19,"segments"],[39,50,23,27],[39,70,23,19,"segments"],[39,78,23,27],[39,79,24,14,"map"],[39,82,24,17],[39,83,24,18],[39,93,24,19,"segment"],[39,100,24,26],[39,102,24,31],[40,8,25,12],[40,12,25,16],[40,13,25,17,"segment"],[40,20,25,24],[40,21,25,25,"startsWith"],[40,31,25,35],[40,32,25,36],[40,35,25,39],[40,36,25,40],[40,38,26,16],[40,45,26,23,"segment"],[40,52,26,30],[41,8,27,12],[41,12,27,16,"segment"],[41,19,27,23],[41,20,27,24,"startsWith"],[41,30,27,34],[41,31,27,35],[41,37,27,41],[41,38,27,42],[41,40,27,44],[42,10,28,16,"segment"],[42,17,28,23],[42,20,28,26,"segment"],[42,27,28,33],[42,28,28,34,"slice"],[42,33,28,39],[42,34,28,40],[42,35,28,41],[42,37,28,43],[42,38,28,44],[42,39,28,45],[42,40,28,46],[43,10,29,16],[43,14,29,22,"param"],[43,19,29,27],[43,22,29,30,"params"],[43,28,29,36],[43,29,29,37,"segment"],[43,36,29,44],[43,37,29,45],[44,10,30,16],[44,14,30,20,"Array"],[44,19,30,25],[44,20,30,26,"isArray"],[44,27,30,33],[44,28,30,34,"param"],[44,33,30,39],[44,34,30,40],[44,36,30,42],[45,12,31,20],[45,19,31,27,"param"],[45,24,31,32],[45,25,31,33,"join"],[45,29,31,37],[45,30,31,38],[45,33,31,41],[45,34,31,42],[46,10,32,16],[46,11,32,17],[46,17,33,21],[47,12,33,21],[47,16,33,21,"_param$split$join"],[47,33,33,21],[47,35,33,21,"_param$split"],[47,47,33,21],[48,12,34,20],[48,20,34,20,"_param$split$join"],[48,37,34,20],[48,40,34,27,"param"],[48,45,34,32],[48,58,34,32,"_param$split"],[48,70,34,32],[48,73,34,27,"param"],[48,78,34,32],[48,79,34,34,"split"],[48,84,34,39],[48,85,34,40],[48,88,34,43],[48,89,34,44],[48,110,34,27,"_param$split"],[48,122,34,27],[48,123,34,46,"join"],[48,127,34,50],[48,128,34,51],[48,131,34,54],[48,132,34,55],[48,144,34,55,"_param$split$join"],[48,161,34,55],[48,164,34,59],[48,166,34,61],[49,10,35,16],[50,8,36,12],[50,9,36,13],[50,15,37,17],[51,10,38,16,"segment"],[51,17,38,23],[51,20,38,26,"segment"],[51,27,38,33],[51,28,38,34,"slice"],[51,33,38,39],[51,34,38,40],[51,35,38,41],[51,37,38,43],[51,38,38,44],[51,39,38,45],[51,40,38,46],[52,10,39,16],[52,17,39,23,"params"],[52,23,39,29],[52,24,39,30,"segment"],[52,31,39,37],[52,32,39,38],[53,8,40,12],[54,6,41,8],[54,7,41,9],[54,8,41,10],[54,9,42,13,"filter"],[54,15,42,19],[54,16,42,20,"Boolean"],[54,23,42,27],[54,24,42,28],[54,25,43,13,"join"],[54,29,43,17],[54,30,43,18],[54,33,43,21],[54,34,43,22],[54,46,43,22,"_segments$map$filter$"],[54,67,43,22],[54,70,43,26],[54,73,43,29],[55,6,44,8],[55,10,44,12,"relativeToDirectory"],[55,29,44,31],[55,31,44,33],[56,8,45,12,"base"],[56,12,45,16],[56,15,45,19],[56,18,45,22,"base"],[56,22,45,26],[56,25,45,29],[57,6,46,8],[58,6,47,8],[58,10,47,14,"url"],[58,13,47,17],[58,16,47,20],[58,20,47,24,"URL"],[58,23,47,27],[58,24,47,28,"href"],[58,28,47,32],[58,30,47,34],[58,49,47,53,"base"],[58,53,47,57],[58,55,47,59],[58,56,47,60],[59,6,48,8,"href"],[59,10,48,12],[59,13,48,15],[59,16,48,18,"url"],[59,19,48,21],[59,20,48,22,"pathname"],[59,28,48,30],[59,31,48,33,"url"],[59,34,48,36],[59,35,48,37,"search"],[59,41,48,43],[59,43,48,45],[60,4,49,4],[61,4,50,4],[61,11,50,11,"href"],[61,15,50,15],[62,2,51,0],[63,2,52,0,"exports"],[63,9,52,7],[63,10,52,8,"resolveHrefStringWithSegments"],[63,39,52,37],[63,42,52,40,"resolveHrefStringWithSegments"],[63,71,52,69],[64,2,53,0],[64,11,53,9,"createQualifiedPathname"],[64,34,53,32,"createQualifiedPathname"],[64,35,53,33,"pathname"],[64,43,53,41],[64,45,53,43,"params"],[64,51,53,49],[64,53,53,51],[65,4,54,4],[65,13,54,4,"_ref3"],[65,18,54,4],[65,22,54,36,"Object"],[65,28,54,42],[65,29,54,43,"entries"],[65,36,54,50],[65,37,54,51,"params"],[65,43,54,57],[65,44,54,58],[65,46,54,60],[66,6,54,60],[66,10,54,60,"_ref4"],[66,15,54,60],[66,18,54,60,"_slicedToArray"],[66,32,54,60],[66,33,54,60,"_ref3"],[66,38,54,60],[67,6,54,60],[67,10,54,16,"key"],[67,13,54,19],[67,16,54,19,"_ref4"],[67,21,54,19],[68,6,54,19],[68,10,54,19,"_ref4$"],[68,16,54,19],[68,19,54,19,"_ref4"],[68,24,54,19],[69,6,54,19],[69,10,54,21,"value"],[69,15,54,26],[69,18,54,26,"_ref4$"],[69,24,54,26],[69,38,54,29],[69,40,54,31],[69,43,54,31,"_ref4$"],[69,49,54,31],[70,6,55,8],[70,10,55,14,"dynamicKey"],[70,20,55,24],[70,23,55,27],[70,27,55,31,"key"],[70,30,55,34],[70,33,55,37],[71,6,56,8],[71,10,56,14,"deepDynamicKey"],[71,24,56,28],[71,27,56,31],[71,34,56,38,"key"],[71,37,56,41],[71,40,56,44],[72,6,57,8],[72,10,57,12,"pathname"],[72,18,57,20],[72,19,57,21,"includes"],[72,27,57,29],[72,28,57,30,"dynamicKey"],[72,38,57,40],[72,39,57,41],[72,41,57,43],[73,8,58,12,"pathname"],[73,16,58,20],[73,19,58,23,"pathname"],[73,27,58,31],[73,28,58,32,"replace"],[73,35,58,39],[73,36,58,40,"dynamicKey"],[73,46,58,50],[73,48,58,52,"encodeParam"],[73,59,58,63],[73,60,58,64,"value"],[73,65,58,69],[73,66,58,70],[73,67,58,71],[74,6,59,8],[74,7,59,9],[74,13,60,13],[74,17,60,17,"pathname"],[74,25,60,25],[74,26,60,26,"includes"],[74,34,60,34],[74,35,60,35,"deepDynamicKey"],[74,49,60,49],[74,50,60,50],[74,52,60,52],[75,8,61,12,"pathname"],[75,16,61,20],[75,19,61,23,"pathname"],[75,27,61,31],[75,28,61,32,"replace"],[75,35,61,39],[75,36,61,40,"deepDynamicKey"],[75,50,61,54],[75,52,61,56,"encodeParam"],[75,63,61,67],[75,64,61,68,"value"],[75,69,61,73],[75,70,61,74],[75,71,61,75],[76,6,62,8],[76,7,62,9],[76,13,63,13],[77,8,64,12],[78,6,65,8],[79,6,66,8],[79,13,66,15,"params"],[79,19,66,21],[79,20,66,22,"key"],[79,23,66,25],[79,24,66,26],[80,4,67,4],[81,4,68,4],[81,11,68,11],[82,6,68,13,"pathname"],[82,14,68,21],[82,16,68,13,"pathname"],[82,24,68,21],[83,6,68,23,"params"],[83,12,68,29],[83,14,68,23,"params"],[84,4,68,30],[84,5,68,31],[85,2,69,0],[86,2,70,0],[86,11,70,9,"encodeParam"],[86,22,70,20,"encodeParam"],[86,23,70,21,"param"],[86,28,70,26],[86,30,70,28],[87,4,71,4],[87,8,71,8,"Array"],[87,13,71,13],[87,14,71,14,"isArray"],[87,21,71,21],[87,22,71,22,"param"],[87,27,71,27],[87,28,71,28],[87,30,71,30],[88,6,72,8],[88,13,72,15,"param"],[88,18,72,20],[88,19,72,21,"map"],[88,22,72,24],[88,23,72,25],[88,33,72,26,"p"],[88,34,72,27],[89,8,72,27],[89,15,72,32,"encodeParam"],[89,26,72,43],[89,27,72,44,"p"],[89,28,72,45],[89,29,72,46],[90,6,72,46],[90,8,72,47],[90,9,72,48,"join"],[90,13,72,52],[90,14,72,53],[90,17,72,56],[90,18,72,57],[91,4,73,4],[92,4,74,4],[92,11,74,11,"encodeURIComponent"],[92,29,74,29],[92,30,74,30,"param"],[92,35,74,35],[92,36,74,36,"toString"],[92,44,74,44],[92,45,74,45],[92,46,74,46],[92,47,74,47],[93,2,75,0],[94,2,76,0],[94,11,76,9,"createQueryParams"],[94,28,76,26,"createQueryParams"],[94,29,76,27,"params"],[94,35,76,33],[94,37,76,35],[95,4,77,4],[95,11,77,12,"Object"],[95,17,77,18],[95,18,77,19,"entries"],[95,25,77,26],[95,26,77,27,"params"],[95,32,77,33],[96,4,78,8],[97,4,78,8],[97,5,79,9,"filter"],[97,11,79,15],[97,12,79,16],[97,22,79,16,"_ref5"],[97,27,79,16],[98,6,79,16],[98,10,79,16,"_ref6"],[98,15,79,16],[98,18,79,16,"_slicedToArray"],[98,32,79,16],[98,33,79,16,"_ref5"],[98,38,79,16],[99,8,79,20,"value"],[99,13,79,25],[99,16,79,25,"_ref6"],[99,21,79,25],[100,6,79,25],[100,13,79,31,"value"],[100,18,79,36],[100,22,79,40],[100,26,79,44],[101,4,79,44],[101,6,79,45],[101,7,80,9,"map"],[101,10,80,12],[101,11,80,13],[101,21,80,13,"_ref7"],[101,26,80,13],[102,6,80,13],[102,10,80,13,"_ref8"],[102,15,80,13],[102,18,80,13,"_slicedToArray"],[102,32,80,13],[102,33,80,13,"_ref7"],[102,38,80,13],[103,8,80,15,"key"],[103,11,80,18],[103,14,80,18,"_ref8"],[103,19,80,18],[104,8,80,20,"value"],[104,13,80,25],[104,16,80,25,"_ref8"],[104,21,80,25],[105,6,80,25],[105,13,80,31],[105,16,80,34,"key"],[105,19,80,37],[105,23,80,41,"encodeURIComponent"],[105,41,80,59],[105,42,80,60,"value"],[105,47,80,65],[105,48,80,66,"toString"],[105,56,80,74],[105,57,80,75],[105,58,80,76],[105,59,80,77],[105,61,80,79],[106,4,80,79],[106,6,80,80],[106,7,81,9,"join"],[106,11,81,13],[106,12,81,14],[106,15,81,17],[106,16,81,18],[107,2,82,0],[108,0,82,1],[108,3]],"functionMap":{"names":["<global>","resolveHref","resolveHrefStringWithSegments","segments.map$argument_0","createQualifiedPathname","encodeParam","param.map$argument_0","createQueryParams","Object.entries.filter$argument_0","Object.entries.filter.map$argument_0"],"mappings":"AAA;oBCI;CDa;AEE;kBCI;SDiB;CFU;AIE;CJgB;AKC;yBCE,qBD;CLG;AOC;gBCG,4BD;aEC,kEF;CPE"},"hasCjsExports":true},"type":"js/module"}]}