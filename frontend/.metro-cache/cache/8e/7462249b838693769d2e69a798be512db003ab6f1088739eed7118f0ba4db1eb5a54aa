{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":60}}],"key":"+LsZXRWRdDHi7URH4twavK8owRs=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":18},"end":{"line":17,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  require(_dependencyMap[3], \"./ListMetricsAggregator\");\n  var invariant = require(_dependencyMap[4], \"invariant\");\n  var ViewabilityHelper = /*#__PURE__*/function () {\n    function ViewabilityHelper() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        viewAreaCoveragePercentThreshold: 0\n      };\n      (0, _classCallCheck.default)(this, ViewabilityHelper);\n      this._hasInteracted = false;\n      this._timers = new Set();\n      this._viewableIndices = [];\n      this._viewableItems = new Map();\n      this._config = config;\n    }\n    return (0, _createClass.default)(ViewabilityHelper, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._timers.forEach(clearTimeout);\n      }\n    }, {\n      key: \"computeViewableItems\",\n      value: function computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange) {\n        var itemCount = props.getItemCount(props.data);\n        var _this$_config = this._config,\n          itemVisiblePercentThreshold = _this$_config.itemVisiblePercentThreshold,\n          viewAreaCoveragePercentThreshold = _this$_config.viewAreaCoveragePercentThreshold;\n        var viewAreaMode = viewAreaCoveragePercentThreshold != null;\n        var viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n        invariant(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n        var viewableIndices = [];\n        if (itemCount === 0) {\n          return viewableIndices;\n        }\n        var firstVisible = -1;\n        var _ref = renderRange || {\n            first: 0,\n            last: itemCount - 1\n          },\n          first = _ref.first,\n          last = _ref.last;\n        if (last >= itemCount) {\n          console.warn('Invalid render range computing viewability ' + JSON.stringify({\n            renderRange: renderRange,\n            itemCount: itemCount\n          }));\n          return [];\n        }\n        for (var idx = first; idx <= last; idx++) {\n          var metrics = listMetrics.getCellMetrics(idx, props);\n          if (!metrics) {\n            continue;\n          }\n          var top = Math.floor(metrics.offset - scrollOffset);\n          var bottom = Math.floor(top + metrics.length);\n          if (top < viewportHeight && bottom > 0) {\n            firstVisible = idx;\n            if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n              viewableIndices.push(idx);\n            }\n          } else if (firstVisible >= 0) {\n            break;\n          }\n        }\n        return viewableIndices;\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate(props, scrollOffset, viewportHeight, listMetrics, createViewToken, onViewableItemsChanged, renderRange) {\n        var _this = this;\n        var itemCount = props.getItemCount(props.data);\n        if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !listMetrics.getCellMetrics(0, props)) {\n          return;\n        }\n        var viewableIndices = [];\n        if (itemCount) {\n          viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange);\n        }\n        if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every(function (v, ii) {\n          return v === viewableIndices[ii];\n        })) {\n          return;\n        }\n        this._viewableIndices = viewableIndices;\n        if (this._config.minimumViewTime) {\n          var handle = setTimeout(function () {\n            _this._timers.delete(handle);\n            _this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n          }, this._config.minimumViewTime);\n          this._timers.add(handle);\n        } else {\n          this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n        }\n      }\n    }, {\n      key: \"resetViewableIndices\",\n      value: function resetViewableIndices() {\n        this._viewableIndices = [];\n      }\n    }, {\n      key: \"recordInteraction\",\n      value: function recordInteraction() {\n        this._hasInteracted = true;\n      }\n    }, {\n      key: \"_onUpdateSync\",\n      value: function _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n        var _this2 = this;\n        viewableIndicesToCheck = viewableIndicesToCheck.filter(function (ii) {\n          return _this2._viewableIndices.includes(ii);\n        });\n        var prevItems = this._viewableItems;\n        var nextItems = new Map(viewableIndicesToCheck.map(function (ii) {\n          var viewable = createViewToken(ii, true, props);\n          return [viewable.key, viewable];\n        }));\n        var changed = [];\n        for (var _ref2 of nextItems) {\n          var _ref3 = (0, _slicedToArray.default)(_ref2, 2);\n          var key = _ref3[0];\n          var viewable = _ref3[1];\n          if (!prevItems.has(key)) {\n            changed.push(viewable);\n          }\n        }\n        for (var _ref4 of prevItems) {\n          var _ref5 = (0, _slicedToArray.default)(_ref4, 2);\n          var _key = _ref5[0];\n          var _viewable = _ref5[1];\n          if (!nextItems.has(_key)) {\n            changed.push(Object.assign({}, _viewable, {\n              isViewable: false\n            }));\n          }\n        }\n        if (changed.length > 0) {\n          this._viewableItems = nextItems;\n          onViewableItemsChanged({\n            viewableItems: Array.from(nextItems.values()),\n            changed: changed,\n            viewabilityConfig: this._config\n          });\n        }\n      }\n    }]);\n  }();\n  function _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n    if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n      return true;\n    } else {\n      var pixels = _getPixelsVisible(top, bottom, viewportHeight);\n      var percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n      return percent >= viewablePercentThreshold;\n    }\n  }\n  function _getPixelsVisible(top, bottom, viewportHeight) {\n    var visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n    return Math.max(0, visibleHeight);\n  }\n  function _isEntirelyVisible(top, bottom, viewportHeight) {\n    return top >= 0 && bottom <= viewportHeight && bottom > top;\n  }\n  module.exports = ViewabilityHelper;\n});","lineCount":177,"map":[[2,2,11,0],[2,14,11,12],[4,2,11,13],[4,11,11,13,"_interopDefault"],[4,27,11,13,"e"],[4,28,11,13],[5,4,11,13],[5,11,11,13,"e"],[5,12,11,13],[5,16,11,13,"e"],[5,17,11,13],[5,18,11,13,"__esModule"],[5,28,11,13],[5,31,11,13,"e"],[5,32,11,13],[6,6,11,13,"default"],[6,13,11,13],[6,15,11,13,"e"],[7,4,11,13],[8,2,11,13],[9,2,11,13],[9,6,11,13,"_babelRuntimeHelpersSlicedToArray"],[9,39,11,13],[9,42,11,13,"require"],[9,49,11,13],[9,50,11,13,"_dependencyMap"],[9,64,11,13],[10,2,11,13],[10,6,11,13,"_slicedToArray"],[10,20,11,13],[10,23,11,13,"_interopDefault"],[10,38,11,13],[10,39,11,13,"_babelRuntimeHelpersSlicedToArray"],[10,72,11,13],[11,2,11,13],[11,6,11,13,"_babelRuntimeHelpersClassCallCheck"],[11,40,11,13],[11,43,11,13,"require"],[11,50,11,13],[11,51,11,13,"_dependencyMap"],[11,65,11,13],[12,2,11,13],[12,6,11,13,"_classCallCheck"],[12,21,11,13],[12,24,11,13,"_interopDefault"],[12,39,11,13],[12,40,11,13,"_babelRuntimeHelpersClassCallCheck"],[12,74,11,13],[13,2,11,13],[13,6,11,13,"_babelRuntimeHelpersCreateClass"],[13,37,11,13],[13,40,11,13,"require"],[13,47,11,13],[13,48,11,13,"_dependencyMap"],[13,62,11,13],[14,2,11,13],[14,6,11,13,"_createClass"],[14,18,11,13],[14,21,11,13,"_interopDefault"],[14,36,11,13],[14,37,11,13,"_babelRuntimeHelpersCreateClass"],[14,68,11,13],[15,2,15,0,"require"],[15,9,15,0],[15,10,15,0,"_dependencyMap"],[15,24,15,0],[16,2,17,0],[16,6,17,6,"invariant"],[16,15,17,15],[16,18,17,18,"require"],[16,25,17,25],[16,26,17,25,"_dependencyMap"],[16,40,17,25],[16,56,17,37],[16,57,17,38],[17,2,17,39],[17,6,79,6,"ViewabilityHelper"],[17,23,79,23],[18,4,86,2],[18,13,86,2,"ViewabilityHelper"],[18,31,86,2],[18,33,88,4],[19,6,88,4],[19,10,87,4,"config"],[19,16,87,29],[19,19,87,29,"arguments"],[19,28,87,29],[19,29,87,29,"length"],[19,35,87,29],[19,43,87,29,"arguments"],[19,52,87,29],[19,60,87,29,"undefined"],[19,69,87,29],[19,72,87,29,"arguments"],[19,81,87,29],[19,87,87,32],[20,8,87,33,"viewAreaCoveragePercentThreshold"],[20,40,87,65],[20,42,87,67],[21,6,87,68],[21,7,87,69],[22,6,87,69],[22,10,87,69,"_classCallCheck"],[22,25,87,69],[22,26,87,69,"default"],[22,33,87,69],[22,41,87,69,"ViewabilityHelper"],[22,58,87,69],[23,6,87,69],[23,11,81,2,"_hasInteracted"],[23,25,81,16],[23,28,81,28],[23,33,81,33],[24,6,81,33],[24,11,82,2,"_timers"],[24,18,82,9],[24,21,82,25],[24,25,82,29,"Set"],[24,28,82,32],[24,29,82,33],[24,30,82,34],[25,6,82,34],[25,11,83,2,"_viewableIndices"],[25,27,83,18],[25,30,83,36],[25,32,83,38],[26,6,83,38],[26,11,84,2,"_viewableItems"],[26,25,84,16],[26,28,84,43],[26,32,84,47,"Map"],[26,35,84,50],[26,36,84,51],[26,37,84,52],[27,6,89,4],[27,10,89,8],[27,11,89,9,"_config"],[27,18,89,16],[27,21,89,19,"config"],[27,27,89,25],[28,4,90,2],[29,4,90,3],[29,15,90,3,"_createClass"],[29,27,90,3],[29,28,90,3,"default"],[29,35,90,3],[29,37,90,3,"ViewabilityHelper"],[29,54,90,3],[30,6,90,3,"key"],[30,9,90,3],[31,6,90,3,"value"],[31,11,90,3],[31,13,95,2],[31,22,95,2,"dispose"],[31,29,95,9,"dispose"],[31,30,95,9],[31,32,95,12],[32,8,99,4],[32,12,99,8],[32,13,99,9,"_timers"],[32,20,99,16],[32,21,99,17,"forEach"],[32,28,99,24],[32,29,99,25,"clearTimeout"],[32,41,99,37],[32,42,99,38],[33,6,100,2],[34,4,100,3],[35,6,100,3,"key"],[35,9,100,3],[36,6,100,3,"value"],[36,11,100,3],[36,13,105,2],[36,22,105,2,"computeViewableItems"],[36,42,105,22,"computeViewableItems"],[36,43,106,4,"props"],[36,48,106,26],[36,50,107,4,"scrollOffset"],[36,62,107,24],[36,64,108,4,"viewportHeight"],[36,78,108,26],[36,80,109,4,"listMetrics"],[36,91,109,38],[36,93,111,4,"renderRange"],[36,104,115,5],[36,106,116,19],[37,8,117,4],[37,12,117,10,"itemCount"],[37,21,117,19],[37,24,117,22,"props"],[37,29,117,27],[37,30,117,28,"getItemCount"],[37,42,117,40],[37,43,117,41,"props"],[37,48,117,46],[37,49,117,47,"data"],[37,53,117,51],[37,54,117,52],[38,8,118,4],[38,12,118,4,"_this$_config"],[38,25,118,4],[38,28,119,6],[38,32,119,10],[38,33,119,11,"_config"],[38,40,119,18],[39,10,118,11,"itemVisiblePercentThreshold"],[39,37,118,38],[39,40,118,38,"_this$_config"],[39,53,118,38],[39,54,118,11,"itemVisiblePercentThreshold"],[39,81,118,38],[40,10,118,40,"viewAreaCoveragePercentThreshold"],[40,42,118,72],[40,45,118,72,"_this$_config"],[40,58,118,72],[40,59,118,40,"viewAreaCoveragePercentThreshold"],[40,91,118,72],[41,8,120,4],[41,12,120,10,"viewAreaMode"],[41,24,120,22],[41,27,120,25,"viewAreaCoveragePercentThreshold"],[41,59,120,57],[41,63,120,61],[41,67,120,65],[42,8,121,4],[42,12,121,10,"viewablePercentThreshold"],[42,36,121,34],[42,39,121,37,"viewAreaMode"],[42,51,121,49],[42,54,122,8,"viewAreaCoveragePercentThreshold"],[42,86,122,40],[42,89,123,8,"itemVisiblePercentThreshold"],[42,116,123,35],[43,8,124,4,"invariant"],[43,17,124,13],[43,18,125,6,"viewablePercentThreshold"],[43,42,125,30],[43,46,125,34],[43,50,125,38],[43,54,126,9,"itemVisiblePercentThreshold"],[43,81,126,36],[43,85,126,40],[43,89,126,44],[43,95,127,11,"viewAreaCoveragePercentThreshold"],[43,127,127,43],[43,131,127,47],[43,135,127,51],[43,136,127,52],[43,138,128,6],[43,227,129,4],[43,228,129,5],[44,8,130,4],[44,12,130,10,"viewableIndices"],[44,27,130,25],[44,30,130,28],[44,32,130,30],[45,8,131,4],[45,12,131,8,"itemCount"],[45,21,131,17],[45,26,131,22],[45,27,131,23],[45,29,131,25],[46,10,132,6],[46,17,132,13,"viewableIndices"],[46,32,132,28],[47,8,133,4],[48,8,134,4],[48,12,134,8,"firstVisible"],[48,24,134,20],[48,27,134,23],[48,28,134,24],[48,29,134,25],[49,8,135,4],[49,12,135,4,"_ref"],[49,16,135,4],[49,19,135,26,"renderRange"],[49,30,135,37],[49,34,135,41],[50,12,135,42,"first"],[50,17,135,47],[50,19,135,49],[50,20,135,50],[51,12,135,52,"last"],[51,16,135,56],[51,18,135,58,"itemCount"],[51,27,135,67],[51,30,135,70],[52,10,135,71],[52,11,135,72],[53,10,135,11,"first"],[53,15,135,16],[53,18,135,16,"_ref"],[53,22,135,16],[53,23,135,11,"first"],[53,28,135,16],[54,10,135,18,"last"],[54,14,135,22],[54,17,135,22,"_ref"],[54,21,135,22],[54,22,135,18,"last"],[54,26,135,22],[55,8,136,4],[55,12,136,8,"last"],[55,16,136,12],[55,20,136,16,"itemCount"],[55,29,136,25],[55,31,136,27],[56,10,137,6,"console"],[56,17,137,13],[56,18,137,14,"warn"],[56,22,137,18],[56,23,138,8],[56,68,138,53],[56,71,139,10,"JSON"],[56,75,139,14],[56,76,139,15,"stringify"],[56,85,139,24],[56,86,139,25],[57,12,139,26,"renderRange"],[57,23,139,37],[57,25,139,26,"renderRange"],[57,36,139,37],[58,12,139,39,"itemCount"],[58,21,139,48],[58,23,139,39,"itemCount"],[59,10,139,48],[59,11,139,49],[59,12,140,6],[59,13,140,7],[60,10,141,6],[60,17,141,13],[60,19,141,15],[61,8,142,4],[62,8,143,4],[62,13,143,9],[62,17,143,13,"idx"],[62,20,143,16],[62,23,143,19,"first"],[62,28,143,24],[62,30,143,26,"idx"],[62,33,143,29],[62,37,143,33,"last"],[62,41,143,37],[62,43,143,39,"idx"],[62,46,143,42],[62,48,143,44],[62,50,143,46],[63,10,144,6],[63,14,144,12,"metrics"],[63,21,144,19],[63,24,144,22,"listMetrics"],[63,35,144,33],[63,36,144,34,"getCellMetrics"],[63,50,144,48],[63,51,144,49,"idx"],[63,54,144,52],[63,56,144,54,"props"],[63,61,144,59],[63,62,144,60],[64,10,145,6],[64,14,145,10],[64,15,145,11,"metrics"],[64,22,145,18],[64,24,145,20],[65,12,146,8],[66,10,147,6],[67,10,148,6],[67,14,148,12,"top"],[67,17,148,15],[67,20,148,18,"Math"],[67,24,148,22],[67,25,148,23,"floor"],[67,30,148,28],[67,31,148,29,"metrics"],[67,38,148,36],[67,39,148,37,"offset"],[67,45,148,43],[67,48,148,46,"scrollOffset"],[67,60,148,58],[67,61,148,59],[68,10,149,6],[68,14,149,12,"bottom"],[68,20,149,18],[68,23,149,21,"Math"],[68,27,149,25],[68,28,149,26,"floor"],[68,33,149,31],[68,34,149,32,"top"],[68,37,149,35],[68,40,149,38,"metrics"],[68,47,149,45],[68,48,149,46,"length"],[68,54,149,52],[68,55,149,53],[69,10,151,6],[69,14,151,10,"top"],[69,17,151,13],[69,20,151,16,"viewportHeight"],[69,34,151,30],[69,38,151,34,"bottom"],[69,44,151,40],[69,47,151,43],[69,48,151,44],[69,50,151,46],[70,12,152,8,"firstVisible"],[70,24,152,20],[70,27,152,23,"idx"],[70,30,152,26],[71,12,153,8],[71,16,154,10,"_isViewable"],[71,27,154,21],[71,28,155,12,"viewAreaMode"],[71,40,155,24],[71,42,156,12,"viewablePercentThreshold"],[71,66,156,36],[71,68,157,12,"top"],[71,71,157,15],[71,73,158,12,"bottom"],[71,79,158,18],[71,81,159,12,"viewportHeight"],[71,95,159,26],[71,97,160,12,"metrics"],[71,104,160,19],[71,105,160,20,"length"],[71,111,161,10],[71,112,161,11],[71,114,162,10],[72,14,163,10,"viewableIndices"],[72,29,163,25],[72,30,163,26,"push"],[72,34,163,30],[72,35,163,31,"idx"],[72,38,163,34],[72,39,163,35],[73,12,164,8],[74,10,165,6],[74,11,165,7],[74,17,165,13],[74,21,165,17,"firstVisible"],[74,33,165,29],[74,37,165,33],[74,38,165,34],[74,40,165,36],[75,12,166,8],[76,10,167,6],[77,8,168,4],[78,8,169,4],[78,15,169,11,"viewableIndices"],[78,30,169,26],[79,6,170,2],[80,4,170,3],[81,6,170,3,"key"],[81,9,170,3],[82,6,170,3,"value"],[82,11,170,3],[82,13,176,2],[82,22,176,2,"onUpdate"],[82,30,176,10,"onUpdate"],[82,31,177,4,"props"],[82,36,177,26],[82,38,178,4,"scrollOffset"],[82,50,178,24],[82,52,179,4,"viewportHeight"],[82,66,179,26],[82,68,180,4,"listMetrics"],[82,79,180,38],[82,81,181,4,"createViewToken"],[82,96,185,18],[82,98,186,4,"onViewableItemsChanged"],[82,120,190,14],[82,122,192,4,"renderRange"],[82,133,196,5],[82,135,197,10],[83,8,197,10],[83,12,197,10,"_this"],[83,17,197,10],[84,8,198,4],[84,12,198,10,"itemCount"],[84,21,198,19],[84,24,198,22,"props"],[84,29,198,27],[84,30,198,28,"getItemCount"],[84,42,198,40],[84,43,198,41,"props"],[84,48,198,46],[84,49,198,47,"data"],[84,53,198,51],[84,54,198,52],[85,8,199,4],[85,12,200,7],[85,16,200,11],[85,17,200,12,"_config"],[85,24,200,19],[85,25,200,20,"waitForInteraction"],[85,43,200,38],[85,47,200,42],[85,48,200,43],[85,52,200,47],[85,53,200,48,"_hasInteracted"],[85,67,200,62],[85,71,201,6,"itemCount"],[85,80,201,15],[85,85,201,20],[85,86,201,21],[85,90,202,6],[85,91,202,7,"listMetrics"],[85,102,202,18],[85,103,202,19,"getCellMetrics"],[85,117,202,33],[85,118,202,34],[85,119,202,35],[85,121,202,37,"props"],[85,126,202,42],[85,127,202,43],[85,129,203,6],[86,10,204,6],[87,8,205,4],[88,8,206,4],[88,12,206,8,"viewableIndices"],[88,27,206,38],[88,30,206,41],[88,32,206,43],[89,8,207,4],[89,12,207,8,"itemCount"],[89,21,207,17],[89,23,207,19],[90,10,208,6,"viewableIndices"],[90,25,208,21],[90,28,208,24],[90,32,208,28],[90,33,208,29,"computeViewableItems"],[90,53,208,49],[90,54,209,8,"props"],[90,59,209,13],[90,61,210,8,"scrollOffset"],[90,73,210,20],[90,75,211,8,"viewportHeight"],[90,89,211,22],[90,91,212,8,"listMetrics"],[90,102,212,19],[90,104,213,8,"renderRange"],[90,115,214,6],[90,116,214,7],[91,8,215,4],[92,8,216,4],[92,12,217,6],[92,16,217,10],[92,17,217,11,"_viewableIndices"],[92,33,217,27],[92,34,217,28,"length"],[92,40,217,34],[92,45,217,39,"viewableIndices"],[92,60,217,54],[92,61,217,55,"length"],[92,67,217,61],[92,71,218,6],[92,75,218,10],[92,76,218,11,"_viewableIndices"],[92,92,218,27],[92,93,218,28,"every"],[92,98,218,33],[92,99,218,34],[92,109,218,35,"v"],[92,110,218,36],[92,112,218,38,"ii"],[92,114,218,40],[93,10,218,40],[93,17,218,45,"v"],[93,18,218,46],[93,23,218,51,"viewableIndices"],[93,38,218,66],[93,39,218,67,"ii"],[93,41,218,69],[93,42,218,70],[94,8,218,70],[94,10,218,71],[94,12,219,6],[95,10,222,6],[96,8,223,4],[97,8,224,4],[97,12,224,8],[97,13,224,9,"_viewableIndices"],[97,29,224,25],[97,32,224,28,"viewableIndices"],[97,47,224,43],[98,8,225,4],[98,12,225,8],[98,16,225,12],[98,17,225,13,"_config"],[98,24,225,20],[98,25,225,21,"minimumViewTime"],[98,40,225,36],[98,42,225,38],[99,10,226,6],[99,14,226,12,"handle"],[99,20,226,29],[99,23,226,32,"setTimeout"],[99,33,226,42],[99,34,226,43],[99,46,226,49],[100,12,230,8,"_this"],[100,17,230,12],[100,18,230,13,"_timers"],[100,25,230,20],[100,26,230,21,"delete"],[100,32,230,27],[100,33,230,28,"handle"],[100,39,230,34],[100,40,230,35],[101,12,231,8,"_this"],[101,17,231,12],[101,18,231,13,"_onUpdateSync"],[101,31,231,26],[101,32,232,10,"props"],[101,37,232,15],[101,39,233,10,"viewableIndices"],[101,54,233,25],[101,56,234,10,"onViewableItemsChanged"],[101,78,234,32],[101,80,235,10,"createViewToken"],[101,95,236,8],[101,96,236,9],[102,10,237,6],[102,11,237,7],[102,13,237,9],[102,17,237,13],[102,18,237,14,"_config"],[102,25,237,21],[102,26,237,22,"minimumViewTime"],[102,41,237,37],[102,42,237,38],[103,10,241,6],[103,14,241,10],[103,15,241,11,"_timers"],[103,22,241,18],[103,23,241,19,"add"],[103,26,241,22],[103,27,241,23,"handle"],[103,33,241,29],[103,34,241,30],[104,8,242,4],[104,9,242,5],[104,15,242,11],[105,10,243,6],[105,14,243,10],[105,15,243,11,"_onUpdateSync"],[105,28,243,24],[105,29,244,8,"props"],[105,34,244,13],[105,36,245,8,"viewableIndices"],[105,51,245,23],[105,53,246,8,"onViewableItemsChanged"],[105,75,246,30],[105,77,247,8,"createViewToken"],[105,92,248,6],[105,93,248,7],[106,8,249,4],[107,6,250,2],[108,4,250,3],[109,6,250,3,"key"],[109,9,250,3],[110,6,250,3,"value"],[110,11,250,3],[110,13,255,2],[110,22,255,2,"resetViewableIndices"],[110,42,255,22,"resetViewableIndices"],[110,43,255,22],[110,45,255,25],[111,8,256,4],[111,12,256,8],[111,13,256,9,"_viewableIndices"],[111,29,256,25],[111,32,256,28],[111,34,256,30],[112,6,257,2],[113,4,257,3],[114,6,257,3,"key"],[114,9,257,3],[115,6,257,3,"value"],[115,11,257,3],[115,13,262,2],[115,22,262,2,"recordInteraction"],[115,39,262,19,"recordInteraction"],[115,40,262,19],[115,42,262,22],[116,8,263,4],[116,12,263,8],[116,13,263,9,"_hasInteracted"],[116,27,263,23],[116,30,263,26],[116,34,263,30],[117,6,264,2],[118,4,264,3],[119,6,264,3,"key"],[119,9,264,3],[120,6,264,3,"value"],[120,11,264,3],[120,13,266,2],[120,22,266,2,"_onUpdateSync"],[120,35,266,15,"_onUpdateSync"],[120,36,267,4,"props"],[120,41,267,26],[120,43,268,4,"viewableIndicesToCheck"],[120,65,268,41],[120,67,269,4,"onViewableItemsChanged"],[120,89,273,14],[120,91,274,4,"createViewToken"],[120,106,278,18],[120,108,279,4],[121,8,279,4],[121,12,279,4,"_this2"],[121,18,279,4],[122,8,281,4,"viewableIndicesToCheck"],[122,30,281,26],[122,33,281,29,"viewableIndicesToCheck"],[122,55,281,51],[122,56,281,52,"filter"],[122,62,281,58],[122,63,281,59],[122,73,281,59,"ii"],[122,75,281,61],[123,10,281,61],[123,17,282,6,"_this2"],[123,23,282,10],[123,24,282,11,"_viewableIndices"],[123,40,282,27],[123,41,282,28,"includes"],[123,49,282,36],[123,50,282,37,"ii"],[123,52,282,39],[123,53,282,40],[124,8,282,40],[124,9,283,4],[124,10,283,5],[125,8,284,4],[125,12,284,10,"prevItems"],[125,21,284,19],[125,24,284,22],[125,28,284,26],[125,29,284,27,"_viewableItems"],[125,43,284,41],[126,8,285,4],[126,12,285,10,"nextItems"],[126,21,285,19],[126,24,285,22],[126,28,285,26,"Map"],[126,31,285,29],[126,32,286,6,"viewableIndicesToCheck"],[126,54,286,28],[126,55,286,29,"map"],[126,58,286,32],[126,59,286,33],[126,69,286,33,"ii"],[126,71,286,35],[126,73,286,39],[127,10,287,8],[127,14,287,14,"viewable"],[127,22,287,22],[127,25,287,25,"createViewToken"],[127,40,287,40],[127,41,287,41,"ii"],[127,43,287,43],[127,45,287,45],[127,49,287,49],[127,51,287,51,"props"],[127,56,287,56],[127,57,287,57],[128,10,288,8],[128,17,288,15],[128,18,288,16,"viewable"],[128,26,288,24],[128,27,288,25,"key"],[128,30,288,28],[128,32,288,30,"viewable"],[128,40,288,38],[128,41,288,39],[129,8,289,6],[129,9,289,7],[129,10,290,4],[129,11,290,5],[130,8,292,4],[130,12,292,10,"changed"],[130,19,292,17],[130,22,292,20],[130,24,292,22],[131,8,293,4],[131,17,293,4,"_ref2"],[131,22,293,4],[131,26,293,34,"nextItems"],[131,35,293,43],[131,37,293,45],[132,10,293,45],[132,14,293,45,"_ref3"],[132,19,293,45],[132,26,293,45,"_slicedToArray"],[132,40,293,45],[132,41,293,45,"default"],[132,48,293,45],[132,50,293,45,"_ref2"],[132,55,293,45],[133,10,293,45],[133,14,293,16,"key"],[133,17,293,19],[133,20,293,19,"_ref3"],[133,25,293,19],[134,10,293,19],[134,14,293,21,"viewable"],[134,22,293,29],[134,25,293,29,"_ref3"],[134,30,293,29],[135,10,294,6],[135,14,294,10],[135,15,294,11,"prevItems"],[135,24,294,20],[135,25,294,21,"has"],[135,28,294,24],[135,29,294,25,"key"],[135,32,294,28],[135,33,294,29],[135,35,294,31],[136,12,295,8,"changed"],[136,19,295,15],[136,20,295,16,"push"],[136,24,295,20],[136,25,295,21,"viewable"],[136,33,295,29],[136,34,295,30],[137,10,296,6],[138,8,297,4],[139,8,298,4],[139,17,298,4,"_ref4"],[139,22,298,4],[139,26,298,34,"prevItems"],[139,35,298,43],[139,37,298,45],[140,10,298,45],[140,14,298,45,"_ref5"],[140,19,298,45],[140,26,298,45,"_slicedToArray"],[140,40,298,45],[140,41,298,45,"default"],[140,48,298,45],[140,50,298,45,"_ref4"],[140,55,298,45],[141,10,298,45],[141,14,298,16,"key"],[141,18,298,19],[141,21,298,19,"_ref5"],[141,26,298,19],[142,10,298,19],[142,14,298,21,"viewable"],[142,23,298,29],[142,26,298,29,"_ref5"],[142,31,298,29],[143,10,299,6],[143,14,299,10],[143,15,299,11,"nextItems"],[143,24,299,20],[143,25,299,21,"has"],[143,28,299,24],[143,29,299,25,"key"],[143,33,299,28],[143,34,299,29],[143,36,299,31],[144,12,300,8,"changed"],[144,19,300,15],[144,20,300,16,"push"],[144,24,300,20],[144,25,300,20,"Object"],[144,31,300,20],[144,32,300,20,"assign"],[144,38,300,20],[144,43,300,25,"viewable"],[144,52,300,33],[145,14,300,35,"isViewable"],[145,24,300,45],[145,26,300,47],[146,12,300,52],[146,14,300,53],[146,15,300,54],[147,10,301,6],[148,8,302,4],[149,8,303,4],[149,12,303,8,"changed"],[149,19,303,15],[149,20,303,16,"length"],[149,26,303,22],[149,29,303,25],[149,30,303,26],[149,32,303,28],[150,10,304,6],[150,14,304,10],[150,15,304,11,"_viewableItems"],[150,29,304,25],[150,32,304,28,"nextItems"],[150,41,304,37],[151,10,305,6,"onViewableItemsChanged"],[151,32,305,28],[151,33,305,29],[152,12,306,8,"viewableItems"],[152,25,306,21],[152,27,306,23,"Array"],[152,32,306,28],[152,33,306,29,"from"],[152,37,306,33],[152,38,306,34,"nextItems"],[152,47,306,43],[152,48,306,44,"values"],[152,54,306,50],[152,55,306,51],[152,56,306,52],[152,57,306,53],[153,12,307,8,"changed"],[153,19,307,15],[153,21,307,8,"changed"],[153,28,307,15],[154,12,308,8,"viewabilityConfig"],[154,29,308,25],[154,31,308,27],[154,35,308,31],[154,36,308,32,"_config"],[155,10,309,6],[155,11,309,7],[155,12,309,8],[156,8,310,4],[157,6,311,2],[158,4,311,3],[159,2,311,3],[160,2,314,0],[160,11,314,9,"_isViewable"],[160,22,314,20,"_isViewable"],[160,23,315,2,"viewAreaMode"],[160,35,315,23],[160,37,316,2,"viewablePercentThreshold"],[160,61,316,34],[160,63,317,2,"top"],[160,66,317,13],[160,68,318,2,"bottom"],[160,74,318,16],[160,76,319,2,"viewportHeight"],[160,90,319,24],[160,92,320,2,"itemLength"],[160,102,320,20],[160,104,321,11],[161,4,322,2],[161,8,322,6,"_isEntirelyVisible"],[161,26,322,24],[161,27,322,25,"top"],[161,30,322,28],[161,32,322,30,"bottom"],[161,38,322,36],[161,40,322,38,"viewportHeight"],[161,54,322,52],[161,55,322,53],[161,57,322,55],[162,6,323,4],[162,13,323,11],[162,17,323,15],[163,4,324,2],[163,5,324,3],[163,11,324,9],[164,6,325,4],[164,10,325,10,"pixels"],[164,16,325,16],[164,19,325,19,"_getPixelsVisible"],[164,36,325,36],[164,37,325,37,"top"],[164,40,325,40],[164,42,325,42,"bottom"],[164,48,325,48],[164,50,325,50,"viewportHeight"],[164,64,325,64],[164,65,325,65],[165,6,326,4],[165,10,326,10,"percent"],[165,17,326,17],[165,20,327,6],[165,23,327,9],[165,27,327,13,"viewAreaMode"],[165,39,327,25],[165,42,327,28,"pixels"],[165,48,327,34],[165,51,327,37,"viewportHeight"],[165,65,327,51],[165,68,327,54,"pixels"],[165,74,327,60],[165,77,327,63,"itemLength"],[165,87,327,73],[165,88,327,74],[166,6,328,4],[166,13,328,11,"percent"],[166,20,328,18],[166,24,328,22,"viewablePercentThreshold"],[166,48,328,46],[167,4,329,2],[168,2,330,0],[169,2,332,0],[169,11,332,9,"_getPixelsVisible"],[169,28,332,26,"_getPixelsVisible"],[169,29,333,2,"top"],[169,32,333,13],[169,34,334,2,"bottom"],[169,40,334,16],[169,42,335,2,"viewportHeight"],[169,56,335,24],[169,58,336,10],[170,4,337,2],[170,8,337,8,"visibleHeight"],[170,21,337,21],[170,24,337,24,"Math"],[170,28,337,28],[170,29,337,29,"min"],[170,32,337,32],[170,33,337,33,"bottom"],[170,39,337,39],[170,41,337,41,"viewportHeight"],[170,55,337,55],[170,56,337,56],[170,59,337,59,"Math"],[170,63,337,63],[170,64,337,64,"max"],[170,67,337,67],[170,68,337,68,"top"],[170,71,337,71],[170,73,337,73],[170,74,337,74],[170,75,337,75],[171,4,338,2],[171,11,338,9,"Math"],[171,15,338,13],[171,16,338,14,"max"],[171,19,338,17],[171,20,338,18],[171,21,338,19],[171,23,338,21,"visibleHeight"],[171,36,338,34],[171,37,338,35],[172,2,339,0],[173,2,341,0],[173,11,341,9,"_isEntirelyVisible"],[173,29,341,27,"_isEntirelyVisible"],[173,30,342,2,"top"],[173,33,342,13],[173,35,343,2,"bottom"],[173,41,343,16],[173,43,344,2,"viewportHeight"],[173,57,344,24],[173,59,345,11],[174,4,346,2],[174,11,346,9,"top"],[174,14,346,12],[174,18,346,16],[174,19,346,17],[174,23,346,21,"bottom"],[174,29,346,27],[174,33,346,31,"viewportHeight"],[174,47,346,45],[174,51,346,49,"bottom"],[174,57,346,55],[174,60,346,58,"top"],[174,63,346,61],[175,2,347,0],[176,2,349,0,"module"],[176,8,349,6],[176,9,349,7,"exports"],[176,16,349,14],[176,19,349,17,"ViewabilityHelper"],[176,36,349,34],[177,0,349,35],[177,3]],"functionMap":{"names":["<global>","ViewabilityHelper","constructor","dispose","computeViewableItems","onUpdate","_viewableIndices.every$argument_0","setTimeout$argument_0","resetViewableIndices","recordInteraction","_onUpdateSync","viewableIndicesToCheck.filter$argument_0","viewableIndicesToCheck.map$argument_0","_isViewable","_getPixelsVisible","_isEntirelyVisible"],"mappings":"AAA;AC8E;ECO;GDI;EEK;GFK;EGK;GHiE;EIM;kCC0C,oCD;2CEQ;OFW;GJa;EOK;GPE;EQK;GRE;ESE;2DCe;wCDC;iCEI;OFG;GTsB;CDC;AaE;CbgB;AcE;CdO;AeE;CfM"},"hasCjsExports":true},"type":"js/module"}]}