{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":64,"column":0,"index":1776}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"axios","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"4fmpRhA0poIOZPSWyeqhuAF1vD4="}},{"name":"expo-constants","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"2TquPknmjb1g5OMuvQ0eTuioYjU="}},{"name":"expo-secure-store","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":49,"index":116}}],"key":"eB/kPkK1ryy/Q97vQv+XLVIm8YA="}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":64,"column":0,"index":1776}}],"key":"jM/HC84YZkM9kLoiCo0Bpf0Xr+w="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.storage = exports.default = void 0;\n  var _axios = _interopRequireDefault(require(_dependencyMap[1], \"axios\"));\n  var _expoConstants = _interopRequireDefault(require(_dependencyMap[2], \"expo-constants\"));\n  var SecureStore = _interopRequireWildcard(require(_dependencyMap[3], \"expo-secure-store\"));\n  var _Platform = _interopRequireDefault(require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  // Utilise extra.apiUrl de app.json (inclus dans le build EAS) en prioritÃ©\n  const API_URL = _expoConstants.default.expoConfig?.extra?.apiUrl?.replace(/\\/api$/, '') || process.env.EXPO_PUBLIC_BACKEND_URL || 'https://maintflow-10.preview.emergentagent.com';\n  const api = _axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Storage wrapper compatible web + native\n  const storage = exports.storage = {\n    async getItem(key) {\n      if (_Platform.default.OS === 'web') {\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (_Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (_Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n\n  // Request interceptor to add token\n  api.interceptors.request.use(async config => {\n    // Ne pas ajouter de token pour les routes d'authentification\n    const isAuthRoute = config.url?.includes('/auth/login') || config.url?.includes('/auth/signup');\n    if (!isAuthRoute) {\n      const token = await storage.getItem('auth_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  var _default = exports.default = api;\n});","lineCount":60,"map":[[7,2,1,0],[7,6,1,0,"_axios"],[7,12,1,0],[7,15,1,0,"_interopRequireDefault"],[7,37,1,0],[7,38,1,0,"require"],[7,45,1,0],[7,46,1,0,"_dependencyMap"],[7,60,1,0],[8,2,2,0],[8,6,2,0,"_expoConstants"],[8,20,2,0],[8,23,2,0,"_interopRequireDefault"],[8,45,2,0],[8,46,2,0,"require"],[8,53,2,0],[8,54,2,0,"_dependencyMap"],[8,68,2,0],[9,2,3,0],[9,6,3,0,"SecureStore"],[9,17,3,0],[9,20,3,0,"_interopRequireWildcard"],[9,43,3,0],[9,44,3,0,"require"],[9,51,3,0],[9,52,3,0,"_dependencyMap"],[9,66,3,0],[10,2,3,49],[10,6,3,49,"_Platform"],[10,15,3,49],[10,18,3,49,"_interopRequireDefault"],[10,40,3,49],[10,41,3,49,"require"],[10,48,3,49],[10,49,3,49,"_dependencyMap"],[10,63,3,49],[11,2,3,49],[11,11,3,49,"_interopRequireWildcard"],[11,35,3,49,"e"],[11,36,3,49],[11,38,3,49,"t"],[11,39,3,49],[11,68,3,49,"WeakMap"],[11,75,3,49],[11,81,3,49,"r"],[11,82,3,49],[11,89,3,49,"WeakMap"],[11,96,3,49],[11,100,3,49,"n"],[11,101,3,49],[11,108,3,49,"WeakMap"],[11,115,3,49],[11,127,3,49,"_interopRequireWildcard"],[11,150,3,49],[11,162,3,49,"_interopRequireWildcard"],[11,163,3,49,"e"],[11,164,3,49],[11,166,3,49,"t"],[11,167,3,49],[11,176,3,49,"t"],[11,177,3,49],[11,181,3,49,"e"],[11,182,3,49],[11,186,3,49,"e"],[11,187,3,49],[11,188,3,49,"__esModule"],[11,198,3,49],[11,207,3,49,"e"],[11,208,3,49],[11,214,3,49,"o"],[11,215,3,49],[11,217,3,49,"i"],[11,218,3,49],[11,220,3,49,"f"],[11,221,3,49],[11,226,3,49,"__proto__"],[11,235,3,49],[11,243,3,49,"default"],[11,250,3,49],[11,252,3,49,"e"],[11,253,3,49],[11,270,3,49,"e"],[11,271,3,49],[11,294,3,49,"e"],[11,295,3,49],[11,320,3,49,"e"],[11,321,3,49],[11,330,3,49,"f"],[11,331,3,49],[11,337,3,49,"o"],[11,338,3,49],[11,341,3,49,"t"],[11,342,3,49],[11,345,3,49,"n"],[11,346,3,49],[11,349,3,49,"r"],[11,350,3,49],[11,358,3,49,"o"],[11,359,3,49],[11,360,3,49,"has"],[11,363,3,49],[11,364,3,49,"e"],[11,365,3,49],[11,375,3,49,"o"],[11,376,3,49],[11,377,3,49,"get"],[11,380,3,49],[11,381,3,49,"e"],[11,382,3,49],[11,385,3,49,"o"],[11,386,3,49],[11,387,3,49,"set"],[11,390,3,49],[11,391,3,49,"e"],[11,392,3,49],[11,394,3,49,"f"],[11,395,3,49],[11,411,3,49,"t"],[11,412,3,49],[11,416,3,49,"e"],[11,417,3,49],[11,433,3,49,"t"],[11,434,3,49],[11,441,3,49,"hasOwnProperty"],[11,455,3,49],[11,456,3,49,"call"],[11,460,3,49],[11,461,3,49,"e"],[11,462,3,49],[11,464,3,49,"t"],[11,465,3,49],[11,472,3,49,"i"],[11,473,3,49],[11,477,3,49,"o"],[11,478,3,49],[11,481,3,49,"Object"],[11,487,3,49],[11,488,3,49,"defineProperty"],[11,502,3,49],[11,507,3,49,"Object"],[11,513,3,49],[11,514,3,49,"getOwnPropertyDescriptor"],[11,538,3,49],[11,539,3,49,"e"],[11,540,3,49],[11,542,3,49,"t"],[11,543,3,49],[11,550,3,49,"i"],[11,551,3,49],[11,552,3,49,"get"],[11,555,3,49],[11,559,3,49,"i"],[11,560,3,49],[11,561,3,49,"set"],[11,564,3,49],[11,568,3,49,"o"],[11,569,3,49],[11,570,3,49,"f"],[11,571,3,49],[11,573,3,49,"t"],[11,574,3,49],[11,576,3,49,"i"],[11,577,3,49],[11,581,3,49,"f"],[11,582,3,49],[11,583,3,49,"t"],[11,584,3,49],[11,588,3,49,"e"],[11,589,3,49],[11,590,3,49,"t"],[11,591,3,49],[11,602,3,49,"f"],[11,603,3,49],[11,608,3,49,"e"],[11,609,3,49],[11,611,3,49,"t"],[11,612,3,49],[12,2,6,0],[13,2,7,0],[13,8,7,6,"API_URL"],[13,15,7,13],[13,18,7,16,"Constants"],[13,40,7,25],[13,41,7,26,"expoConfig"],[13,51,7,36],[13,53,7,38,"extra"],[13,58,7,43],[13,60,7,45,"apiUrl"],[13,66,7,51],[13,68,7,53,"replace"],[13,75,7,60],[13,76,7,61],[13,84,7,69],[13,86,7,71],[13,88,7,73],[13,89,7,74],[13,93,8,16,"process"],[13,100,8,23],[13,101,8,24,"env"],[13,104,8,27],[13,105,8,28,"EXPO_PUBLIC_BACKEND_URL"],[13,128,8,51],[13,132,9,16],[13,184,9,68],[14,2,11,0],[14,8,11,6,"api"],[14,11,11,9],[14,14,11,12,"axios"],[14,28,11,17],[14,29,11,18,"create"],[14,35,11,24],[14,36,11,25],[15,4,12,2,"baseURL"],[15,11,12,9],[15,13,12,11,"API_URL"],[15,20,12,18],[16,4,13,2,"headers"],[16,11,13,9],[16,13,13,11],[17,6,14,4],[17,20,14,18],[17,22,14,20],[18,4,15,2],[19,2,16,0],[19,3,16,1],[19,4,16,2],[21,2,18,0],[22,2,19,0],[22,8,19,6,"storage"],[22,15,19,13],[22,18,19,13,"exports"],[22,25,19,13],[22,26,19,13,"storage"],[22,33,19,13],[22,36,19,16],[23,4,20,2],[23,10,20,8,"getItem"],[23,17,20,15,"getItem"],[23,18,20,16,"key"],[23,21,20,27],[23,23,20,53],[24,6,21,4],[24,10,21,8,"Platform"],[24,27,21,16],[24,28,21,17,"OS"],[24,30,21,19],[24,35,21,24],[24,40,21,29],[24,42,21,31],[25,8,22,6],[25,15,22,13,"localStorage"],[25,27,22,25],[25,28,22,26,"getItem"],[25,35,22,33],[25,36,22,34,"key"],[25,39,22,37],[25,40,22,38],[26,6,23,4],[27,6,24,4],[27,13,24,11],[27,19,24,17,"SecureStore"],[27,30,24,28],[27,31,24,29,"getItemAsync"],[27,43,24,41],[27,44,24,42,"key"],[27,47,24,45],[27,48,24,46],[28,4,25,2],[28,5,25,3],[29,4,26,2],[29,10,26,8,"setItem"],[29,17,26,15,"setItem"],[29,18,26,16,"key"],[29,21,26,27],[29,23,26,29,"value"],[29,28,26,42],[29,30,26,59],[30,6,27,4],[30,10,27,8,"Platform"],[30,27,27,16],[30,28,27,17,"OS"],[30,30,27,19],[30,35,27,24],[30,40,27,29],[30,42,27,31],[31,8,28,6,"localStorage"],[31,20,28,18],[31,21,28,19,"setItem"],[31,28,28,26],[31,29,28,27,"key"],[31,32,28,30],[31,34,28,32,"value"],[31,39,28,37],[31,40,28,38],[32,6,29,4],[32,7,29,5],[32,13,29,11],[33,8,30,6],[33,14,30,12,"SecureStore"],[33,25,30,23],[33,26,30,24,"setItemAsync"],[33,38,30,36],[33,39,30,37,"key"],[33,42,30,40],[33,44,30,42,"value"],[33,49,30,47],[33,50,30,48],[34,6,31,4],[35,4,32,2],[35,5,32,3],[36,4,33,2],[36,10,33,8,"deleteItem"],[36,20,33,18,"deleteItem"],[36,21,33,19,"key"],[36,24,33,30],[36,26,33,47],[37,6,34,4],[37,10,34,8,"Platform"],[37,27,34,16],[37,28,34,17,"OS"],[37,30,34,19],[37,35,34,24],[37,40,34,29],[37,42,34,31],[38,8,35,6,"localStorage"],[38,20,35,18],[38,21,35,19,"removeItem"],[38,31,35,29],[38,32,35,30,"key"],[38,35,35,33],[38,36,35,34],[39,6,36,4],[39,7,36,5],[39,13,36,11],[40,8,37,6],[40,14,37,12,"SecureStore"],[40,25,37,23],[40,26,37,24,"deleteItemAsync"],[40,41,37,39],[40,42,37,40,"key"],[40,45,37,43],[40,46,37,44],[41,6,38,4],[42,4,39,2],[43,2,40,0],[43,3,40,1],[45,2,42,0],[46,2,43,0,"api"],[46,5,43,3],[46,6,43,4,"interceptors"],[46,18,43,16],[46,19,43,17,"request"],[46,26,43,24],[46,27,43,25,"use"],[46,30,43,28],[46,31,44,2],[46,37,44,9,"config"],[46,43,44,15],[46,47,44,20],[47,4,45,4],[48,4,46,4],[48,10,46,10,"isAuthRoute"],[48,21,46,21],[48,24,46,24,"config"],[48,30,46,30],[48,31,46,31,"url"],[48,34,46,34],[48,36,46,36,"includes"],[48,44,46,44],[48,45,46,45],[48,58,46,58],[48,59,46,59],[48,63,47,24,"config"],[48,69,47,30],[48,70,47,31,"url"],[48,73,47,34],[48,75,47,36,"includes"],[48,83,47,44],[48,84,47,45],[48,98,47,59],[48,99,47,60],[49,4,49,4],[49,8,49,8],[49,9,49,9,"isAuthRoute"],[49,20,49,20],[49,22,49,22],[50,6,50,6],[50,12,50,12,"token"],[50,17,50,17],[50,20,50,20],[50,26,50,26,"storage"],[50,33,50,33],[50,34,50,34,"getItem"],[50,41,50,41],[50,42,50,42],[50,54,50,54],[50,55,50,55],[51,6,51,6],[51,10,51,10,"token"],[51,15,51,15],[51,17,51,17],[52,8,52,8,"config"],[52,14,52,14],[52,15,52,15,"headers"],[52,22,52,22],[52,23,52,23,"Authorization"],[52,36,52,36],[52,39,52,39],[52,49,52,49,"token"],[52,54,52,54],[52,56,52,56],[53,6,53,6],[54,4,54,4],[55,4,55,4],[55,11,55,11,"config"],[55,17,55,17],[56,2,56,2],[56,3,56,3],[56,5,57,3,"error"],[56,10,57,8],[56,14,57,13],[57,4,58,4],[57,11,58,11,"Promise"],[57,18,58,18],[57,19,58,19,"reject"],[57,25,58,25],[57,26,58,26,"error"],[57,31,58,31],[57,32,58,32],[58,2,59,2],[58,3,60,0],[58,4,60,1],[59,2,60,2],[59,6,60,2,"_default"],[59,14,60,2],[59,17,60,2,"exports"],[59,24,60,2],[59,25,60,2,"default"],[59,32,60,2],[59,35,63,15,"api"],[59,38,63,18],[60,0,63,18],[60,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1"],"mappings":"AAA;ECmB;GDK;EEC;GFM;EGC;GHM;EIK;GJY;EKC;GLE"}},"type":"js/module"}]}