{"dependencies":[{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":99,"index":99}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./injection","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":158},"end":{"line":4,"column":67,"index":225}}],"key":"E52zS5eXIBX754Vjo26RZ92kGEw="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDOMImperativeHandle = useDOMImperativeHandle;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _injection = require(_dependencyMap[1], \"./injection\");\n  /**\n   * A React `useImperativeHandle` like hook for DOM components.\n   *\n   */\n  function useDOMImperativeHandle(ref, init, deps) {\n    // @ts-expect-error: Added via react-native-webview\n    const isTargetWeb = typeof window.ReactNativeWebView === 'undefined';\n    const stubHandlerFactory = (0, _react.useCallback)(() => ({}), deps ?? []);\n\n    // This standard useImperativeHandle hook is serving for web\n    (0, _react.useImperativeHandle)(ref, isTargetWeb ? init : stubHandlerFactory, deps);\n\n    // This `globalThis._domRefProxy` is serving for native\n    (0, _react.useEffect)(() => {\n      if (!isTargetWeb) {\n        globalThis._domRefProxy = init();\n        // @ts-expect-error: Added via react-native-webview\n        window.ReactNativeWebView.postMessage(JSON.stringify({\n          type: _injection.REGISTER_DOM_IMPERATIVE_HANDLE_PROPS,\n          data: Object.keys(globalThis._domRefProxy)\n        }));\n      }\n      return () => {\n        if (!isTargetWeb) {\n          globalThis._domRefProxy = undefined;\n        }\n      };\n    }, deps);\n  }\n});","lineCount":37,"map":[[6,2,1,0],[6,6,1,0,"_react"],[6,12,1,0],[6,15,1,0,"require"],[6,22,1,0],[6,23,1,0,"_dependencyMap"],[6,37,1,0],[7,2,4,0],[7,6,4,0,"_injection"],[7,16,4,0],[7,19,4,0,"require"],[7,26,4,0],[7,27,4,0,"_dependencyMap"],[7,41,4,0],[8,2,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,2,10,7],[12,11,10,16,"useDOMImperativeHandle"],[12,33,10,38,"useDOMImperativeHandle"],[12,34,11,2,"ref"],[12,37,11,13],[12,39,12,2,"init"],[12,43,12,15],[12,45,13,2,"deps"],[12,49,13,23],[12,51,14,2],[13,4,15,2],[14,4,16,2],[14,10,16,8,"isTargetWeb"],[14,21,16,19],[14,24,16,22],[14,31,16,29,"window"],[14,37,16,35],[14,38,16,36,"ReactNativeWebView"],[14,56,16,54],[14,61,16,59],[14,72,16,70],[15,4,18,2],[15,10,18,8,"stubHandlerFactory"],[15,28,18,26],[15,31,18,29],[15,35,18,29,"useCallback"],[15,53,18,40],[15,55,18,41],[15,62,18,48],[15,63,18,49],[15,64,18,50],[15,65,18,56],[15,67,18,58,"deps"],[15,71,18,62],[15,75,18,66],[15,77,18,68],[15,78,18,69],[17,4,20,2],[18,4,21,2],[18,8,21,2,"useImperativeHandle"],[18,34,21,21],[18,36,21,22,"ref"],[18,39,21,25],[18,41,21,27,"isTargetWeb"],[18,52,21,38],[18,55,21,41,"init"],[18,59,21,45],[18,62,21,48,"stubHandlerFactory"],[18,80,21,66],[18,82,21,68,"deps"],[18,86,21,72],[18,87,21,73],[20,4,23,2],[21,4,24,2],[21,8,24,2,"useEffect"],[21,24,24,11],[21,26,24,12],[21,32,24,18],[22,6,25,4],[22,10,25,8],[22,11,25,9,"isTargetWeb"],[22,22,25,20],[22,24,25,22],[23,8,26,6,"globalThis"],[23,18,26,16],[23,19,26,17,"_domRefProxy"],[23,31,26,29],[23,34,26,32,"init"],[23,38,26,36],[23,39,26,37],[23,40,26,38],[24,8,27,6],[25,8,28,6,"window"],[25,14,28,12],[25,15,28,13,"ReactNativeWebView"],[25,33,28,31],[25,34,28,32,"postMessage"],[25,45,28,43],[25,46,29,8,"JSON"],[25,50,29,12],[25,51,29,13,"stringify"],[25,60,29,22],[25,61,29,23],[26,10,30,10,"type"],[26,14,30,14],[26,16,30,16,"REGISTER_DOM_IMPERATIVE_HANDLE_PROPS"],[26,63,30,52],[27,10,31,10,"data"],[27,14,31,14],[27,16,31,16,"Object"],[27,22,31,22],[27,23,31,23,"keys"],[27,27,31,27],[27,28,31,28,"globalThis"],[27,38,31,38],[27,39,31,39,"_domRefProxy"],[27,51,31,51],[28,8,32,8],[28,9,32,9],[28,10,33,6],[28,11,33,7],[29,6,34,4],[30,6,35,4],[30,13,35,11],[30,19,35,17],[31,8,36,6],[31,12,36,10],[31,13,36,11,"isTargetWeb"],[31,24,36,22],[31,26,36,24],[32,10,37,8,"globalThis"],[32,20,37,18],[32,21,37,19,"_domRefProxy"],[32,33,37,31],[32,36,37,34,"undefined"],[32,45,37,43],[33,8,38,6],[34,6,39,4],[34,7,39,5],[35,4,40,2],[35,5,40,3],[35,7,40,5,"deps"],[35,11,40,9],[35,12,40,10],[36,2,41,0],[37,0,41,1],[37,3]],"functionMap":{"names":["<global>","useDOMImperativeHandle","stubHandlerFactory","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCS;yCCQ,eD;YEM;WCW;KDI;GFC;CDC"}},"type":"js/module"}]}