{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":49,"index":116}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":117},"end":{"line":4,"column":40,"index":157}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _Constants$expoConfig;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"storage\", {\n    enumerable: true,\n    get: function () {\n      return storage;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _expoSecureStore = require(_dependencyMap[4], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  // Utilise extra.apiUrl de app.json (inclus dans le build EAS) en priorit√©\n  var API_URL = ((_Constants$expoConfig = Constants.default.expoConfig) == null || (_Constants$expoConfig = _Constants$expoConfig.extra) == null || (_Constants$expoConfig = _Constants$expoConfig.apiUrl) == null ? void 0 : _Constants$expoConfig.replace(/\\/api$/, '')) || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://maintflow-10.preview.emergentagent.com';\n  var api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Storage wrapper compatible web + native\n  var storage = {\n    getItem: function () {\n      var _getItem = (0, _asyncToGenerator.default)(function* (key) {\n        if (_reactNative.Platform.OS === 'web') {\n          return localStorage.getItem(key);\n        }\n        return yield SecureStore.getItemAsync(key);\n      });\n      function getItem(_x) {\n        return _getItem.apply(this, arguments);\n      }\n      return getItem;\n    }(),\n    setItem: function () {\n      var _setItem = (0, _asyncToGenerator.default)(function* (key, value) {\n        if (_reactNative.Platform.OS === 'web') {\n          localStorage.setItem(key, value);\n        } else {\n          yield SecureStore.setItemAsync(key, value);\n        }\n      });\n      function setItem(_x2, _x3) {\n        return _setItem.apply(this, arguments);\n      }\n      return setItem;\n    }(),\n    deleteItem: function () {\n      var _deleteItem = (0, _asyncToGenerator.default)(function* (key) {\n        if (_reactNative.Platform.OS === 'web') {\n          localStorage.removeItem(key);\n        } else {\n          yield SecureStore.deleteItemAsync(key);\n        }\n      });\n      function deleteItem(_x4) {\n        return _deleteItem.apply(this, arguments);\n      }\n      return deleteItem;\n    }()\n  };\n\n  // Request interceptor to add token\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (config) {\n      var _config$url, _config$url2;\n      // Ne pas ajouter de token pour les routes d'authentification\n      var isAuthRoute = ((_config$url = config.url) == null ? void 0 : _config$url.includes('/auth/login')) || ((_config$url2 = config.url) == null ? void 0 : _config$url2.includes('/auth/signup'));\n      if (!isAuthRoute) {\n        var token = yield storage.getItem('auth_token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n      }\n      return config;\n    });\n    return function (_x5) {\n      return _ref.apply(this, arguments);\n    };\n  }(), function (error) {\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":122,"map":[[28,2,63,0,"Object"],[28,8,63,0],[28,9,63,0,"defineProperty"],[28,23,63,0],[28,24,63,0,"exports"],[28,31,63,0],[29,4,63,0,"enumerable"],[29,14,63,0],[30,4,63,0,"get"],[30,7,63,0],[30,18,63,0,"get"],[30,19,63,0],[31,6,63,0],[31,13,63,0,"_default"],[31,21,63,0],[32,4,63,0],[33,2,63,0],[34,2,62,0,"Object"],[34,8,62,0],[34,9,62,0,"defineProperty"],[34,23,62,0],[34,24,62,0,"exports"],[34,31,62,0],[35,4,62,0,"enumerable"],[35,14,62,0],[36,4,62,0,"get"],[36,7,62,0],[36,18,62,0,"get"],[36,19,62,0],[37,6,62,0],[37,13,62,9,"storage"],[37,20,62,16],[38,4,62,16],[39,2,62,16],[40,2,62,19],[40,6,62,19,"_babelRuntimeHelpersAsyncToGenerator"],[40,42,62,19],[40,45,62,19,"require"],[40,52,62,19],[40,53,62,19,"_dependencyMap"],[40,67,62,19],[41,2,62,19],[41,6,62,19,"_asyncToGenerator"],[41,23,62,19],[41,26,62,19,"_interopDefault"],[41,41,62,19],[41,42,62,19,"_babelRuntimeHelpersAsyncToGenerator"],[41,78,62,19],[42,2,62,19],[42,6,62,19,"_expoVirtualEnv"],[42,21,62,19],[42,24,62,19,"require"],[42,31,62,19],[42,32,62,19,"_dependencyMap"],[42,46,62,19],[43,2,1,0],[43,6,1,0,"_axios"],[43,12,1,0],[43,15,1,0,"require"],[43,22,1,0],[43,23,1,0,"_dependencyMap"],[43,37,1,0],[44,2,1,0],[44,6,1,0,"axios"],[44,11,1,0],[44,14,1,0,"_interopDefault"],[44,29,1,0],[44,30,1,0,"_axios"],[44,36,1,0],[45,2,2,0],[45,6,2,0,"_expoConstants"],[45,20,2,0],[45,23,2,0,"require"],[45,30,2,0],[45,31,2,0,"_dependencyMap"],[45,45,2,0],[46,2,2,0],[46,6,2,0,"Constants"],[46,15,2,0],[46,18,2,0,"_interopDefault"],[46,33,2,0],[46,34,2,0,"_expoConstants"],[46,48,2,0],[47,2,3,0],[47,6,3,0,"_expoSecureStore"],[47,22,3,0],[47,25,3,0,"require"],[47,32,3,0],[47,33,3,0,"_dependencyMap"],[47,47,3,0],[48,2,3,0],[48,6,3,0,"SecureStore"],[48,17,3,0],[48,20,3,0,"_interopNamespace"],[48,37,3,0],[48,38,3,0,"_expoSecureStore"],[48,54,3,0],[49,2,4,0],[49,6,4,0,"_reactNative"],[49,18,4,0],[49,21,4,0,"require"],[49,28,4,0],[49,29,4,0,"_dependencyMap"],[49,43,4,0],[50,2,6,0],[51,2,7,0],[51,6,7,6,"API_URL"],[51,13,7,13],[51,16,7,16],[51,18,7,16,"_Constants$expoConfig"],[51,39,7,16],[51,42,7,16,"Constants"],[51,51,7,25],[51,52,7,25,"default"],[51,59,7,25],[51,60,7,26,"expoConfig"],[51,70,7,36],[51,84,7,36,"_Constants$expoConfig"],[51,105,7,36],[51,108,7,16,"_Constants$expoConfig"],[51,129,7,16],[51,130,7,38,"extra"],[51,135,7,43],[51,149,7,43,"_Constants$expoConfig"],[51,170,7,43],[51,173,7,16,"_Constants$expoConfig"],[51,194,7,16],[51,195,7,45,"apiUrl"],[51,201,7,51],[51,222,7,16,"_Constants$expoConfig"],[51,243,7,16],[51,244,7,53,"replace"],[51,251,7,60],[51,252,7,61],[51,260,7,69],[51,262,7,71],[51,264,7,73],[51,265,7,74],[51,270,7,74,"_expoVirtualEnv"],[51,285,7,74],[51,286,7,74,"env"],[51,289,7,74],[51,290,7,74,"EXPO_PUBLIC_BACKEND_URL"],[51,313,8,51],[51,317,9,16],[51,364,9,63],[52,2,11,0],[52,6,11,6,"api"],[52,9,11,9],[52,12,11,12,"axios"],[52,17,11,17],[52,18,11,17,"default"],[52,25,11,17],[52,26,11,18,"create"],[52,32,11,24],[52,33,11,25],[53,4,12,2,"baseURL"],[53,11,12,9],[53,13,12,11,"API_URL"],[53,20,12,18],[54,4,13,2,"headers"],[54,11,13,9],[54,13,13,11],[55,6,14,4],[55,20,14,18],[55,22,14,20],[56,4,15,2],[57,2,16,0],[57,3,16,1],[57,4,16,2],[59,2,18,0],[60,2,19,0],[60,6,19,6,"storage"],[60,13,19,13],[60,16,19,16],[61,4,20,8,"getItem"],[61,11,20,15],[62,6,20,15],[62,10,20,15,"_getItem"],[62,18,20,15],[62,25,20,15,"_asyncToGenerator"],[62,42,20,15],[62,43,20,15,"default"],[62,50,20,15],[62,63,20,16,"key"],[62,66,20,27],[62,68,20,53],[63,8,21,4],[63,12,21,8,"Platform"],[63,24,21,16],[63,25,21,16,"Platform"],[63,33,21,16],[63,34,21,17,"OS"],[63,36,21,19],[63,41,21,24],[63,46,21,29],[63,48,21,31],[64,10,22,6],[64,17,22,13,"localStorage"],[64,29,22,25],[64,30,22,26,"getItem"],[64,37,22,33],[64,38,22,34,"key"],[64,41,22,37],[64,42,22,38],[65,8,23,4],[66,8,24,4],[66,21,24,17,"SecureStore"],[66,32,24,28],[66,33,24,29,"getItemAsync"],[66,45,24,41],[66,46,24,42,"key"],[66,49,24,45],[66,50,24,46],[67,6,25,2],[67,7,25,3],[68,6,25,3],[68,15,20,8,"getItem"],[68,22,20,15,"getItem"],[68,23,20,15,"_x"],[68,25,20,15],[69,8,20,15],[69,15,20,15,"_getItem"],[69,23,20,15],[69,24,20,15,"apply"],[69,29,20,15],[69,36,20,15,"arguments"],[69,45,20,15],[70,6,20,15],[71,6,20,15],[71,13,20,8,"getItem"],[71,20,20,15],[72,4,20,15],[73,4,26,8,"setItem"],[73,11,26,15],[74,6,26,15],[74,10,26,15,"_setItem"],[74,18,26,15],[74,25,26,15,"_asyncToGenerator"],[74,42,26,15],[74,43,26,15,"default"],[74,50,26,15],[74,63,26,16,"key"],[74,66,26,27],[74,68,26,29,"value"],[74,73,26,42],[74,75,26,59],[75,8,27,4],[75,12,27,8,"Platform"],[75,24,27,16],[75,25,27,16,"Platform"],[75,33,27,16],[75,34,27,17,"OS"],[75,36,27,19],[75,41,27,24],[75,46,27,29],[75,48,27,31],[76,10,28,6,"localStorage"],[76,22,28,18],[76,23,28,19,"setItem"],[76,30,28,26],[76,31,28,27,"key"],[76,34,28,30],[76,36,28,32,"value"],[76,41,28,37],[76,42,28,38],[77,8,29,4],[77,9,29,5],[77,15,29,11],[78,10,30,6],[78,16,30,12,"SecureStore"],[78,27,30,23],[78,28,30,24,"setItemAsync"],[78,40,30,36],[78,41,30,37,"key"],[78,44,30,40],[78,46,30,42,"value"],[78,51,30,47],[78,52,30,48],[79,8,31,4],[80,6,32,2],[80,7,32,3],[81,6,32,3],[81,15,26,8,"setItem"],[81,22,26,15,"setItem"],[81,23,26,15,"_x2"],[81,26,26,15],[81,28,26,15,"_x3"],[81,31,26,15],[82,8,26,15],[82,15,26,15,"_setItem"],[82,23,26,15],[82,24,26,15,"apply"],[82,29,26,15],[82,36,26,15,"arguments"],[82,45,26,15],[83,6,26,15],[84,6,26,15],[84,13,26,8,"setItem"],[84,20,26,15],[85,4,26,15],[86,4,33,8,"deleteItem"],[86,14,33,18],[87,6,33,18],[87,10,33,18,"_deleteItem"],[87,21,33,18],[87,28,33,18,"_asyncToGenerator"],[87,45,33,18],[87,46,33,18,"default"],[87,53,33,18],[87,66,33,19,"key"],[87,69,33,30],[87,71,33,47],[88,8,34,4],[88,12,34,8,"Platform"],[88,24,34,16],[88,25,34,16,"Platform"],[88,33,34,16],[88,34,34,17,"OS"],[88,36,34,19],[88,41,34,24],[88,46,34,29],[88,48,34,31],[89,10,35,6,"localStorage"],[89,22,35,18],[89,23,35,19,"removeItem"],[89,33,35,29],[89,34,35,30,"key"],[89,37,35,33],[89,38,35,34],[90,8,36,4],[90,9,36,5],[90,15,36,11],[91,10,37,6],[91,16,37,12,"SecureStore"],[91,27,37,23],[91,28,37,24,"deleteItemAsync"],[91,43,37,39],[91,44,37,40,"key"],[91,47,37,43],[91,48,37,44],[92,8,38,4],[93,6,39,2],[93,7,39,3],[94,6,39,3],[94,15,33,8,"deleteItem"],[94,25,33,18,"deleteItem"],[94,26,33,18,"_x4"],[94,29,33,18],[95,8,33,18],[95,15,33,18,"_deleteItem"],[95,26,33,18],[95,27,33,18,"apply"],[95,32,33,18],[95,39,33,18,"arguments"],[95,48,33,18],[96,6,33,18],[97,6,33,18],[97,13,33,8,"deleteItem"],[97,23,33,18],[98,4,33,18],[99,2,40,0],[99,3,40,1],[101,2,42,0],[102,2,43,0,"api"],[102,5,43,3],[102,6,43,4,"interceptors"],[102,18,43,16],[102,19,43,17,"request"],[102,26,43,24],[102,27,43,25,"use"],[102,30,43,28],[103,4,43,28],[103,8,43,28,"_ref"],[103,12,43,28],[103,19,43,28,"_asyncToGenerator"],[103,36,43,28],[103,37,43,28,"default"],[103,44,43,28],[103,46,44,2],[103,57,44,9,"config"],[103,63,44,15],[103,65,44,20],[104,6,44,20],[104,10,44,20,"_config$url"],[104,21,44,20],[104,23,44,20,"_config$url2"],[104,35,44,20],[105,6,45,4],[106,6,46,4],[106,10,46,10,"isAuthRoute"],[106,21,46,21],[106,24,46,24],[106,26,46,24,"_config$url"],[106,37,46,24],[106,40,46,24,"config"],[106,46,46,30],[106,47,46,31,"url"],[106,50,46,34],[106,71,46,24,"_config$url"],[106,82,46,24],[106,83,46,36,"includes"],[106,91,46,44],[106,92,46,45],[106,105,46,58],[106,106,46,59],[106,113,46,59,"_config$url2"],[106,125,46,59],[106,128,47,24,"config"],[106,134,47,30],[106,135,47,31,"url"],[106,138,47,34],[106,159,47,24,"_config$url2"],[106,171,47,24],[106,172,47,36,"includes"],[106,180,47,44],[106,181,47,45],[106,195,47,59],[106,196,47,60],[107,6,49,4],[107,10,49,8],[107,11,49,9,"isAuthRoute"],[107,22,49,20],[107,24,49,22],[108,8,50,6],[108,12,50,12,"token"],[108,17,50,17],[108,26,50,26,"storage"],[108,33,50,33],[108,34,50,34,"getItem"],[108,41,50,41],[108,42,50,42],[108,54,50,54],[108,55,50,55],[109,8,51,6],[109,12,51,10,"token"],[109,17,51,15],[109,19,51,17],[110,10,52,8,"config"],[110,16,52,14],[110,17,52,15,"headers"],[110,24,52,22],[110,25,52,23,"Authorization"],[110,38,52,36],[110,41,52,39],[110,51,52,49,"token"],[110,56,52,54],[110,58,52,56],[111,8,53,6],[112,6,54,4],[113,6,55,4],[113,13,55,11,"config"],[113,19,55,17],[114,4,56,2],[114,5,56,3],[115,4,56,3],[115,21,56,3,"_x5"],[115,24,56,3],[116,6,56,3],[116,13,56,3,"_ref"],[116,17,56,3],[116,18,56,3,"apply"],[116,23,56,3],[116,30,56,3,"arguments"],[116,39,56,3],[117,4,56,3],[118,2,56,3],[118,7,57,2],[118,17,57,3,"error"],[118,22,57,8],[118,24,57,13],[119,4,58,4],[119,11,58,11,"Promise"],[119,18,58,18],[119,19,58,19,"reject"],[119,25,58,25],[119,26,58,26,"error"],[119,31,58,31],[119,32,58,32],[120,2,59,2],[120,3,60,0],[120,4,60,1],[121,2,63,0],[121,6,63,0,"_default"],[121,14,63,0],[121,17,63,15,"api"],[121,20,63,18],[122,0,63,19],[122,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1"],"mappings":"AAA;ECmB;GDK;EEC;GFM;EGC;GHM;EIK;GJY;EKC;GLE"},"hasCjsExports":false},"type":"js/module"}]}