{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":49,"index":116}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"storage\", {\n    enumerable: true,\n    get: function () {\n      return storage;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // Utilise extra.apiUrl de app.json (inclus dans le build EAS) en prioritÃ©\n  const API_URL = Constants.default.expoConfig?.extra?.apiUrl?.replace(/\\/api$/, '') || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://plane-assist.preview.emergentagent.com';\n  const api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Storage wrapper compatible web + native\n  const storage = {\n    async getItem(key) {\n      if (Platform.default.OS === 'web') {\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n\n  // Request interceptor to add token\n  api.interceptors.request.use(async config => {\n    const token = await storage.getItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":92,"map":[[27,2,57,0,"Object"],[27,8,57,0],[27,9,57,0,"defineProperty"],[27,23,57,0],[27,24,57,0,"exports"],[27,31,57,0],[28,4,57,0,"enumerable"],[28,14,57,0],[29,4,57,0,"get"],[29,7,57,0],[29,18,57,0,"get"],[29,19,57,0],[30,6,57,0],[30,13,57,0,"_default"],[30,21,57,0],[31,4,57,0],[32,2,57,0],[33,2,56,0,"Object"],[33,8,56,0],[33,9,56,0,"defineProperty"],[33,23,56,0],[33,24,56,0,"exports"],[33,31,56,0],[34,4,56,0,"enumerable"],[34,14,56,0],[35,4,56,0,"get"],[35,7,56,0],[35,18,56,0,"get"],[35,19,56,0],[36,6,56,0],[36,13,56,9,"storage"],[36,20,56,16],[37,4,56,16],[38,2,56,16],[39,2,56,19],[39,6,56,19,"_expoVirtualEnv"],[39,21,56,19],[39,24,56,19,"require"],[39,31,56,19],[39,32,56,19,"_dependencyMap"],[39,46,56,19],[40,2,1,0],[40,6,1,0,"_axios"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,1,0],[41,6,1,0,"axios"],[41,11,1,0],[41,14,1,0,"_interopDefault"],[41,29,1,0],[41,30,1,0,"_axios"],[41,36,1,0],[42,2,2,0],[42,6,2,0,"_expoConstants"],[42,20,2,0],[42,23,2,0,"require"],[42,30,2,0],[42,31,2,0,"_dependencyMap"],[42,45,2,0],[43,2,2,0],[43,6,2,0,"Constants"],[43,15,2,0],[43,18,2,0,"_interopDefault"],[43,33,2,0],[43,34,2,0,"_expoConstants"],[43,48,2,0],[44,2,3,0],[44,6,3,0,"_expoSecureStore"],[44,22,3,0],[44,25,3,0,"require"],[44,32,3,0],[44,33,3,0,"_dependencyMap"],[44,47,3,0],[45,2,3,0],[45,6,3,0,"SecureStore"],[45,17,3,0],[45,20,3,0,"_interopNamespace"],[45,37,3,0],[45,38,3,0,"_expoSecureStore"],[45,54,3,0],[46,2,3,49],[46,6,3,49,"_reactNativeWebDistExportsPlatform"],[46,40,3,49],[46,43,3,49,"require"],[46,50,3,49],[46,51,3,49,"_dependencyMap"],[46,65,3,49],[47,2,3,49],[47,6,3,49,"Platform"],[47,14,3,49],[47,17,3,49,"_interopDefault"],[47,32,3,49],[47,33,3,49,"_reactNativeWebDistExportsPlatform"],[47,67,3,49],[48,2,6,0],[49,2,7,0],[49,8,7,6,"API_URL"],[49,15,7,13],[49,18,7,16,"Constants"],[49,27,7,25],[49,28,7,25,"default"],[49,35,7,25],[49,36,7,26,"expoConfig"],[49,46,7,36],[49,48,7,38,"extra"],[49,53,7,43],[49,55,7,45,"apiUrl"],[49,61,7,51],[49,63,7,53,"replace"],[49,70,7,60],[49,71,7,61],[49,79,7,69],[49,81,7,71],[49,83,7,73],[49,84,7,74],[49,88,7,74,"_expoVirtualEnv"],[49,103,7,74],[49,104,7,74,"env"],[49,107,7,74],[49,108,7,74,"EXPO_PUBLIC_BACKEND_URL"],[49,131,8,51],[49,135,9,16],[49,191,9,72],[50,2,11,0],[50,8,11,6,"api"],[50,11,11,9],[50,14,11,12,"axios"],[50,19,11,17],[50,20,11,17,"default"],[50,27,11,17],[50,28,11,18,"create"],[50,34,11,24],[50,35,11,25],[51,4,12,2,"baseURL"],[51,11,12,9],[51,13,12,11,"API_URL"],[51,20,12,18],[52,4,13,2,"headers"],[52,11,13,9],[52,13,13,11],[53,6,14,4],[53,20,14,18],[53,22,14,20],[54,4,15,2],[55,2,16,0],[55,3,16,1],[55,4,16,2],[57,2,18,0],[58,2,19,0],[58,8,19,6,"storage"],[58,15,19,13],[58,18,19,16],[59,4,20,2],[59,10,20,8,"getItem"],[59,17,20,15,"getItem"],[59,18,20,16,"key"],[59,21,20,27],[59,23,20,53],[60,6,21,4],[60,10,21,8,"Platform"],[60,18,21,16],[60,19,21,16,"default"],[60,26,21,16],[60,27,21,17,"OS"],[60,29,21,19],[60,34,21,24],[60,39,21,29],[60,41,21,31],[61,8,22,6],[61,15,22,13,"localStorage"],[61,27,22,25],[61,28,22,26,"getItem"],[61,35,22,33],[61,36,22,34,"key"],[61,39,22,37],[61,40,22,38],[62,6,23,4],[63,6,24,4],[63,13,24,11],[63,19,24,17,"SecureStore"],[63,30,24,28],[63,31,24,29,"getItemAsync"],[63,43,24,41],[63,44,24,42,"key"],[63,47,24,45],[63,48,24,46],[64,4,25,2],[64,5,25,3],[65,4,26,2],[65,10,26,8,"setItem"],[65,17,26,15,"setItem"],[65,18,26,16,"key"],[65,21,26,27],[65,23,26,29,"value"],[65,28,26,42],[65,30,26,59],[66,6,27,4],[66,10,27,8,"Platform"],[66,18,27,16],[66,19,27,16,"default"],[66,26,27,16],[66,27,27,17,"OS"],[66,29,27,19],[66,34,27,24],[66,39,27,29],[66,41,27,31],[67,8,28,6,"localStorage"],[67,20,28,18],[67,21,28,19,"setItem"],[67,28,28,26],[67,29,28,27,"key"],[67,32,28,30],[67,34,28,32,"value"],[67,39,28,37],[67,40,28,38],[68,6,29,4],[68,7,29,5],[68,13,29,11],[69,8,30,6],[69,14,30,12,"SecureStore"],[69,25,30,23],[69,26,30,24,"setItemAsync"],[69,38,30,36],[69,39,30,37,"key"],[69,42,30,40],[69,44,30,42,"value"],[69,49,30,47],[69,50,30,48],[70,6,31,4],[71,4,32,2],[71,5,32,3],[72,4,33,2],[72,10,33,8,"deleteItem"],[72,20,33,18,"deleteItem"],[72,21,33,19,"key"],[72,24,33,30],[72,26,33,47],[73,6,34,4],[73,10,34,8,"Platform"],[73,18,34,16],[73,19,34,16,"default"],[73,26,34,16],[73,27,34,17,"OS"],[73,29,34,19],[73,34,34,24],[73,39,34,29],[73,41,34,31],[74,8,35,6,"localStorage"],[74,20,35,18],[74,21,35,19,"removeItem"],[74,31,35,29],[74,32,35,30,"key"],[74,35,35,33],[74,36,35,34],[75,6,36,4],[75,7,36,5],[75,13,36,11],[76,8,37,6],[76,14,37,12,"SecureStore"],[76,25,37,23],[76,26,37,24,"deleteItemAsync"],[76,41,37,39],[76,42,37,40,"key"],[76,45,37,43],[76,46,37,44],[77,6,38,4],[78,4,39,2],[79,2,40,0],[79,3,40,1],[81,2,42,0],[82,2,43,0,"api"],[82,5,43,3],[82,6,43,4,"interceptors"],[82,18,43,16],[82,19,43,17,"request"],[82,26,43,24],[82,27,43,25,"use"],[82,30,43,28],[82,31,44,2],[82,37,44,9,"config"],[82,43,44,15],[82,47,44,20],[83,4,45,4],[83,10,45,10,"token"],[83,15,45,15],[83,18,45,18],[83,24,45,24,"storage"],[83,31,45,31],[83,32,45,32,"getItem"],[83,39,45,39],[83,40,45,40],[83,52,45,52],[83,53,45,53],[84,4,46,4],[84,8,46,8,"token"],[84,13,46,13],[84,15,46,15],[85,6,47,6,"config"],[85,12,47,12],[85,13,47,13,"headers"],[85,20,47,20],[85,21,47,21,"Authorization"],[85,34,47,34],[85,37,47,37],[85,47,47,47,"token"],[85,52,47,52],[85,54,47,54],[86,4,48,4],[87,4,49,4],[87,11,49,11,"config"],[87,17,49,17],[88,2,50,2],[88,3,50,3],[88,5,51,3,"error"],[88,10,51,8],[88,14,51,13],[89,4,52,4],[89,11,52,11,"Promise"],[89,18,52,18],[89,19,52,19,"reject"],[89,25,52,25],[89,26,52,26,"error"],[89,31,52,31],[89,32,52,32],[90,2,53,2],[90,3,54,0],[90,4,54,1],[91,2,57,0],[91,6,57,0,"_default"],[91,14,57,0],[91,17,57,15,"api"],[91,20,57,18],[92,0,57,19],[92,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1"],"mappings":"AAA;ECmB;GDK;EEC;GFM;EGC;GHM;EIK;GJM;EKC;GLE"},"hasCjsExports":false},"type":"js/module"}]}