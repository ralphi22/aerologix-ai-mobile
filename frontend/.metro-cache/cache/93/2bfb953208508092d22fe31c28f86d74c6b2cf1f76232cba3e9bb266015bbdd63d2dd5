{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":49,"index":116}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":117},"end":{"line":4,"column":40,"index":157}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"storage\", {\n    enumerable: true,\n    get: function () {\n      return storage;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _axios = require(_dependencyMap[1]);\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[2]);\n  var Constants = _interopDefault(_expoConstants);\n  var _expoSecureStore = require(_dependencyMap[3]);\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  require(_dependencyMap[4]);\n  // Utilise extra.apiUrl de app.json (inclus dans le build EAS) en prioritÃ©\n  var API_URL = Constants.default.expoConfig?.extra?.apiUrl?.replace(/\\/api$/, '') || \"https://maintflow-10.preview.emergentagent.com\" || 'https://maintflow-10.preview.emergentagent.com';\n  var api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Storage wrapper compatible web + native\n  var storage = {\n    getItem(key) {\n      return (0, _asyncToGenerator.default)(function* () {\n        return yield SecureStore.getItemAsync(key);\n      })();\n    },\n    setItem(key, value) {\n      return (0, _asyncToGenerator.default)(function* () {\n        {\n          yield SecureStore.setItemAsync(key, value);\n        }\n      })();\n    },\n    deleteItem(key) {\n      return (0, _asyncToGenerator.default)(function* () {\n        {\n          yield SecureStore.deleteItemAsync(key);\n        }\n      })();\n    }\n  };\n\n  // Request interceptor to add token\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (config) {\n      // Ne pas ajouter de token pour les routes d'authentification\n      var isAuthRoute = config.url?.includes('/auth/login') || config.url?.includes('/auth/signup');\n      if (!isAuthRoute) {\n        var token = yield storage.getItem('auth_token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n      }\n      return config;\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":100,"map":[[27,2,63,0,"Object"],[27,8,63,0],[27,9,63,0,"defineProperty"],[27,23,63,0],[27,24,63,0,"exports"],[27,31,63,0],[28,4,63,0,"enumerable"],[28,14,63,0],[29,4,63,0,"get"],[29,7,63,0],[29,18,63,0,"get"],[29,19,63,0],[30,6,63,0],[30,13,63,0,"_default"],[30,21,63,0],[31,4,63,0],[32,2,63,0],[33,2,62,0,"Object"],[33,8,62,0],[33,9,62,0,"defineProperty"],[33,23,62,0],[33,24,62,0,"exports"],[33,31,62,0],[34,4,62,0,"enumerable"],[34,14,62,0],[35,4,62,0,"get"],[35,7,62,0],[35,18,62,0,"get"],[35,19,62,0],[36,6,62,0],[36,13,62,9,"storage"],[36,20,62,16],[37,4,62,16],[38,2,62,16],[39,2,62,19],[39,6,62,19,"_babelRuntimeHelpersAsyncToGenerator"],[39,42,62,19],[39,45,62,19,"require"],[39,52,62,19],[39,53,62,19,"_dependencyMap"],[39,67,62,19],[40,2,62,19],[40,6,62,19,"_asyncToGenerator"],[40,23,62,19],[40,26,62,19,"_interopDefault"],[40,41,62,19],[40,42,62,19,"_babelRuntimeHelpersAsyncToGenerator"],[40,78,62,19],[41,2,1,0],[41,6,1,0,"_axios"],[41,12,1,0],[41,15,1,0,"require"],[41,22,1,0],[41,23,1,0,"_dependencyMap"],[41,37,1,0],[42,2,1,0],[42,6,1,0,"axios"],[42,11,1,0],[42,14,1,0,"_interopDefault"],[42,29,1,0],[42,30,1,0,"_axios"],[42,36,1,0],[43,2,2,0],[43,6,2,0,"_expoConstants"],[43,20,2,0],[43,23,2,0,"require"],[43,30,2,0],[43,31,2,0,"_dependencyMap"],[43,45,2,0],[44,2,2,0],[44,6,2,0,"Constants"],[44,15,2,0],[44,18,2,0,"_interopDefault"],[44,33,2,0],[44,34,2,0,"_expoConstants"],[44,48,2,0],[45,2,3,0],[45,6,3,0,"_expoSecureStore"],[45,22,3,0],[45,25,3,0,"require"],[45,32,3,0],[45,33,3,0,"_dependencyMap"],[45,47,3,0],[46,2,3,0],[46,6,3,0,"SecureStore"],[46,17,3,0],[46,20,3,0,"_interopNamespace"],[46,37,3,0],[46,38,3,0,"_expoSecureStore"],[46,54,3,0],[47,2,4,0,"require"],[47,9,4,0],[47,10,4,0,"_dependencyMap"],[47,24,4,0],[48,2,6,0],[49,2,7,0],[49,6,7,6,"API_URL"],[49,13,7,13],[49,16,7,16,"Constants"],[49,25,7,25],[49,26,7,25,"default"],[49,33,7,25],[49,34,7,26,"expoConfig"],[49,44,7,36],[49,46,7,38,"extra"],[49,51,7,43],[49,53,7,45,"apiUrl"],[49,59,7,51],[49,61,7,53,"replace"],[49,68,7,60],[49,69,7,61],[49,77,7,69],[49,79,7,71],[49,81,7,73],[49,82,7,74],[49,134,8,51],[49,138,9,16],[49,186,9,64],[50,2,11,0],[50,6,11,6,"api"],[50,9,11,9],[50,12,11,12,"axios"],[50,17,11,17],[50,18,11,17,"default"],[50,25,11,17],[50,26,11,18,"create"],[50,32,11,24],[50,33,11,25],[51,4,12,2,"baseURL"],[51,11,12,9],[51,13,12,11,"API_URL"],[51,20,12,18],[52,4,13,2,"headers"],[52,11,13,9],[52,13,13,11],[53,6,14,4],[53,20,14,18],[53,22,14,20],[54,4,15,2],[55,2,16,0],[55,3,16,1],[55,4,16,2],[57,2,18,0],[58,2,19,0],[58,6,19,6,"storage"],[58,13,19,13],[58,16,19,16],[59,4,20,8,"getItem"],[59,11,20,15,"getItem"],[59,12,20,16,"key"],[59,15,20,27],[59,17,20,53],[60,6,20,53],[60,17,20,53,"_asyncToGenerator"],[60,34,20,53],[60,35,20,53,"default"],[60,42,20,53],[61,8,24,4],[61,21,24,17,"SecureStore"],[61,32,24,28],[61,33,24,29,"getItemAsync"],[61,45,24,41],[61,46,24,42,"key"],[61,49,24,45],[61,50,24,46],[62,6,24,47],[63,4,25,2],[63,5,25,3],[64,4,26,8,"setItem"],[64,11,26,15,"setItem"],[64,12,26,16,"key"],[64,15,26,27],[64,17,26,29,"value"],[64,22,26,42],[64,24,26,59],[65,6,26,59],[65,17,26,59,"_asyncToGenerator"],[65,34,26,59],[65,35,26,59,"default"],[65,42,26,59],[66,8,29,11],[67,10,30,6],[67,16,30,12,"SecureStore"],[67,27,30,23],[67,28,30,24,"setItemAsync"],[67,40,30,36],[67,41,30,37,"key"],[67,44,30,40],[67,46,30,42,"value"],[67,51,30,47],[67,52,30,48],[68,8,31,4],[69,6,31,5],[70,4,32,2],[70,5,32,3],[71,4,33,8,"deleteItem"],[71,14,33,18,"deleteItem"],[71,15,33,19,"key"],[71,18,33,30],[71,20,33,47],[72,6,33,47],[72,17,33,47,"_asyncToGenerator"],[72,34,33,47],[72,35,33,47,"default"],[72,42,33,47],[73,8,36,11],[74,10,37,6],[74,16,37,12,"SecureStore"],[74,27,37,23],[74,28,37,24,"deleteItemAsync"],[74,43,37,39],[74,44,37,40,"key"],[74,47,37,43],[74,48,37,44],[75,8,38,4],[76,6,38,5],[77,4,39,2],[78,2,40,0],[78,3,40,1],[80,2,42,0],[81,2,43,0,"api"],[81,5,43,3],[81,6,43,4,"interceptors"],[81,18,43,16],[81,19,43,17,"request"],[81,26,43,24],[81,27,43,25,"use"],[81,30,43,28],[82,4,43,28],[82,8,43,28,"_ref"],[82,12,43,28],[82,19,43,28,"_asyncToGenerator"],[82,36,43,28],[82,37,43,28,"default"],[82,44,43,28],[82,46,44,2],[82,57,44,9,"config"],[82,63,44,15],[82,65,44,20],[83,6,45,4],[84,6,46,4],[84,10,46,10,"isAuthRoute"],[84,21,46,21],[84,24,46,24,"config"],[84,30,46,30],[84,31,46,31,"url"],[84,34,46,34],[84,36,46,36,"includes"],[84,44,46,44],[84,45,46,45],[84,58,46,58],[84,59,46,59],[84,63,47,24,"config"],[84,69,47,30],[84,70,47,31,"url"],[84,73,47,34],[84,75,47,36,"includes"],[84,83,47,44],[84,84,47,45],[84,98,47,59],[84,99,47,60],[85,6,49,4],[85,10,49,8],[85,11,49,9,"isAuthRoute"],[85,22,49,20],[85,24,49,22],[86,8,50,6],[86,12,50,12,"token"],[86,17,50,17],[86,26,50,26,"storage"],[86,33,50,33],[86,34,50,34,"getItem"],[86,41,50,41],[86,42,50,42],[86,54,50,54],[86,55,50,55],[87,8,51,6],[87,12,51,10,"token"],[87,17,51,15],[87,19,51,17],[88,10,52,8,"config"],[88,16,52,14],[88,17,52,15,"headers"],[88,24,52,22],[88,25,52,23,"Authorization"],[88,38,52,36],[88,41,52,39],[88,51,52,49,"token"],[88,56,52,54],[88,58,52,56],[89,8,53,6],[90,6,54,4],[91,6,55,4],[91,13,55,11,"config"],[91,19,55,17],[92,4,56,2],[92,5,56,3],[93,4,56,3],[93,21,56,3,"_x"],[93,23,56,3],[94,6,56,3],[94,13,56,3,"_ref"],[94,17,56,3],[94,18,56,3,"apply"],[94,23,56,3],[94,30,56,3,"arguments"],[94,39,56,3],[95,4,56,3],[96,2,56,3],[96,7,57,3,"error"],[96,12,57,8],[96,16,57,13],[97,4,58,4],[97,11,58,11,"Promise"],[97,18,58,18],[97,19,58,19,"reject"],[97,25,58,25],[97,26,58,26,"error"],[97,31,58,31],[97,32,58,32],[98,2,59,2],[98,3,60,0],[98,4,60,1],[99,2,63,0],[99,6,63,0,"_default"],[99,14,63,0],[99,17,63,15,"api"],[99,20,63,18],[100,0,63,19],[100,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1"],"mappings":"AAA;ECmB;GDK;EEC;GFM;EGC;GHM;EIK;GJY;EKC;GLE"},"hasCjsExports":false},"type":"js/module"}]}