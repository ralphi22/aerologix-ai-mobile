{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":37,"index":37}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _api = require(_dependencyMap[3]);\n  var api = _interopDefault(_api);\n  var AuthService = /*#__PURE__*/function () {\n    function AuthService() {\n      (0, _classCallCheck.default)(this, AuthService);\n    }\n    return (0, _createClass.default)(AuthService, [{\n      key: \"login\",\n      value: function () {\n        var _login = (0, _asyncToGenerator.default)(function* (credentials) {\n          // FastAPI OAuth2 expects form data\n          var formData = new URLSearchParams();\n          formData.append('username', credentials.email);\n          formData.append('password', credentials.password);\n          var response = yield api.default.post('/api/auth/login', formData, {\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded'\n            }\n          });\n          var _response$data = response.data,\n            access_token = _response$data.access_token,\n            user = _response$data.user;\n          yield _api.storage.setItem('auth_token', access_token);\n          return user;\n        });\n        function login(_x) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }()\n    }, {\n      key: \"signup\",\n      value: function () {\n        var _signup = (0, _asyncToGenerator.default)(function* (data) {\n          var response = yield api.default.post('/api/auth/signup', data);\n          var _response$data2 = response.data,\n            access_token = _response$data2.access_token,\n            user = _response$data2.user;\n          yield _api.storage.setItem('auth_token', access_token);\n          return user;\n        });\n        function signup(_x2) {\n          return _signup.apply(this, arguments);\n        }\n        return signup;\n      }()\n    }, {\n      key: \"getCurrentUser\",\n      value: function () {\n        var _getCurrentUser = (0, _asyncToGenerator.default)(function* () {\n          var response = yield api.default.get('/api/auth/me');\n          return response.data;\n        });\n        function getCurrentUser() {\n          return _getCurrentUser.apply(this, arguments);\n        }\n        return getCurrentUser;\n      }()\n    }, {\n      key: \"logout\",\n      value: function () {\n        var _logout = (0, _asyncToGenerator.default)(function* () {\n          yield _api.storage.deleteItem('auth_token');\n        });\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }()\n    }, {\n      key: \"getToken\",\n      value: function () {\n        var _getToken = (0, _asyncToGenerator.default)(function* () {\n          return yield _api.storage.getItem('auth_token');\n        });\n        function getToken() {\n          return _getToken.apply(this, arguments);\n        }\n        return getToken;\n      }()\n    }]);\n  }();\n  var _default = new AuthService();\n});","lineCount":107,"map":[[12,2,68,0,"Object"],[12,8,68,0],[12,9,68,0,"defineProperty"],[12,23,68,0],[12,24,68,0,"exports"],[12,31,68,0],[13,4,68,0,"enumerable"],[13,14,68,0],[14,4,68,0,"get"],[14,7,68,0],[14,18,68,0,"get"],[14,19,68,0],[15,6,68,0],[15,13,68,0,"_default"],[15,21,68,0],[16,4,68,0],[17,2,68,0],[18,2,68,33],[18,6,68,33,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,68,33],[18,45,68,33,"require"],[18,52,68,33],[18,53,68,33,"_dependencyMap"],[18,67,68,33],[19,2,68,33],[19,6,68,33,"_asyncToGenerator"],[19,23,68,33],[19,26,68,33,"_interopDefault"],[19,41,68,33],[19,42,68,33,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,68,33],[20,2,68,33],[20,6,68,33,"_babelRuntimeHelpersClassCallCheck"],[20,40,68,33],[20,43,68,33,"require"],[20,50,68,33],[20,51,68,33,"_dependencyMap"],[20,65,68,33],[21,2,68,33],[21,6,68,33,"_classCallCheck"],[21,21,68,33],[21,24,68,33,"_interopDefault"],[21,39,68,33],[21,40,68,33,"_babelRuntimeHelpersClassCallCheck"],[21,74,68,33],[22,2,68,33],[22,6,68,33,"_babelRuntimeHelpersCreateClass"],[22,37,68,33],[22,40,68,33,"require"],[22,47,68,33],[22,48,68,33,"_dependencyMap"],[22,62,68,33],[23,2,68,33],[23,6,68,33,"_createClass"],[23,18,68,33],[23,21,68,33,"_interopDefault"],[23,36,68,33],[23,37,68,33,"_babelRuntimeHelpersCreateClass"],[23,68,68,33],[24,2,1,0],[24,6,1,0,"_api"],[24,10,1,0],[24,13,1,0,"require"],[24,20,1,0],[24,21,1,0,"_dependencyMap"],[24,35,1,0],[25,2,1,0],[25,6,1,0,"api"],[25,9,1,0],[25,12,1,0,"_interopDefault"],[25,27,1,0],[25,28,1,0,"_api"],[25,32,1,0],[26,2,1,37],[26,6,29,6,"AuthService"],[26,17,29,17],[27,4,29,17],[27,13,29,17,"AuthService"],[27,25,29,17],[28,6,29,17],[28,10,29,17,"_classCallCheck"],[28,25,29,17],[28,26,29,17,"default"],[28,33,29,17],[28,41,29,17,"AuthService"],[28,52,29,17],[29,4,29,17],[30,4,29,17],[30,15,29,17,"_createClass"],[30,27,29,17],[30,28,29,17,"default"],[30,35,29,17],[30,37,29,17,"AuthService"],[30,48,29,17],[31,6,29,17,"key"],[31,9,29,17],[32,6,29,17,"value"],[32,11,29,17],[33,8,29,17],[33,12,29,17,"_login"],[33,18,29,17],[33,25,29,17,"_asyncToGenerator"],[33,42,29,17],[33,43,29,17,"default"],[33,50,29,17],[33,52,30,2],[33,63,30,14,"credentials"],[33,74,30,43],[33,76,30,60],[34,10,31,4],[35,10,32,4],[35,14,32,10,"formData"],[35,22,32,18],[35,25,32,21],[35,29,32,25,"URLSearchParams"],[35,44,32,40],[35,45,32,41],[35,46,32,42],[36,10,33,4,"formData"],[36,18,33,12],[36,19,33,13,"append"],[36,25,33,19],[36,26,33,20],[36,36,33,30],[36,38,33,32,"credentials"],[36,49,33,43],[36,50,33,44,"email"],[36,55,33,49],[36,56,33,50],[37,10,34,4,"formData"],[37,18,34,12],[37,19,34,13,"append"],[37,25,34,19],[37,26,34,20],[37,36,34,30],[37,38,34,32,"credentials"],[37,49,34,43],[37,50,34,44,"password"],[37,58,34,52],[37,59,34,53],[38,10,36,4],[38,14,36,10,"response"],[38,22,36,18],[38,31,36,27,"api"],[38,34,36,30],[38,35,36,30,"default"],[38,42,36,30],[38,43,36,31,"post"],[38,47,36,35],[38,48,36,36],[38,65,36,53],[38,67,36,55,"formData"],[38,75,36,63],[38,77,36,65],[39,12,37,6,"headers"],[39,19,37,13],[39,21,37,15],[40,14,38,8],[40,28,38,22],[40,30,38,24],[41,12,39,6],[42,10,40,4],[42,11,40,5],[42,12,40,6],[43,10,42,4],[43,14,42,4,"_response$data"],[43,28,42,4],[43,31,42,35,"response"],[43,39,42,43],[43,40,42,44,"data"],[43,44,42,48],[44,12,42,12,"access_token"],[44,24,42,24],[44,27,42,24,"_response$data"],[44,41,42,24],[44,42,42,12,"access_token"],[44,54,42,24],[45,12,42,26,"user"],[45,16,42,30],[45,19,42,30,"_response$data"],[45,33,42,30],[45,34,42,26,"user"],[45,38,42,30],[46,10,43,4],[46,16,43,10,"storage"],[46,20,43,17],[46,21,43,17,"storage"],[46,28,43,17],[46,29,43,18,"setItem"],[46,36,43,25],[46,37,43,26],[46,49,43,38],[46,51,43,40,"access_token"],[46,63,43,52],[46,64,43,53],[47,10,44,4],[47,17,44,11,"user"],[47,21,44,15],[48,8,45,2],[48,9,45,3],[49,8,45,3],[49,17,30,8,"login"],[49,22,30,13,"login"],[49,23,30,13,"_x"],[49,25,30,13],[50,10,30,13],[50,17,30,13,"_login"],[50,23,30,13],[50,24,30,13,"apply"],[50,29,30,13],[50,36,30,13,"arguments"],[50,45,30,13],[51,8,30,13],[52,8,30,13],[52,15,30,8,"login"],[52,20,30,13],[53,6,30,13],[54,4,30,13],[55,6,30,13,"key"],[55,9,30,13],[56,6,30,13,"value"],[56,11,30,13],[57,8,30,13],[57,12,30,13,"_signup"],[57,19,30,13],[57,26,30,13,"_asyncToGenerator"],[57,43,30,13],[57,44,30,13,"default"],[57,51,30,13],[57,53,47,2],[57,64,47,15,"data"],[57,68,47,31],[57,70,47,48],[58,10,48,4],[58,14,48,10,"response"],[58,22,48,18],[58,31,48,27,"api"],[58,34,48,30],[58,35,48,30,"default"],[58,42,48,30],[58,43,48,31,"post"],[58,47,48,35],[58,48,48,36],[58,66,48,54],[58,68,48,56,"data"],[58,72,48,60],[58,73,48,61],[59,10,49,4],[59,14,49,4,"_response$data2"],[59,29,49,4],[59,32,49,35,"response"],[59,40,49,43],[59,41,49,44,"data"],[59,45,49,48],[60,12,49,12,"access_token"],[60,24,49,24],[60,27,49,24,"_response$data2"],[60,42,49,24],[60,43,49,12,"access_token"],[60,55,49,24],[61,12,49,26,"user"],[61,16,49,30],[61,19,49,30,"_response$data2"],[61,34,49,30],[61,35,49,26,"user"],[61,39,49,30],[62,10,50,4],[62,16,50,10,"storage"],[62,20,50,17],[62,21,50,17,"storage"],[62,28,50,17],[62,29,50,18,"setItem"],[62,36,50,25],[62,37,50,26],[62,49,50,38],[62,51,50,40,"access_token"],[62,63,50,52],[62,64,50,53],[63,10,51,4],[63,17,51,11,"user"],[63,21,51,15],[64,8,52,2],[64,9,52,3],[65,8,52,3],[65,17,47,8,"signup"],[65,23,47,14,"signup"],[65,24,47,14,"_x2"],[65,27,47,14],[66,10,47,14],[66,17,47,14,"_signup"],[66,24,47,14],[66,25,47,14,"apply"],[66,30,47,14],[66,37,47,14,"arguments"],[66,46,47,14],[67,8,47,14],[68,8,47,14],[68,15,47,8,"signup"],[68,21,47,14],[69,6,47,14],[70,4,47,14],[71,6,47,14,"key"],[71,9,47,14],[72,6,47,14,"value"],[72,11,47,14],[73,8,47,14],[73,12,47,14,"_getCurrentUser"],[73,27,47,14],[73,34,47,14,"_asyncToGenerator"],[73,51,47,14],[73,52,47,14,"default"],[73,59,47,14],[73,61,54,2],[73,74,54,40],[74,10,55,4],[74,14,55,10,"response"],[74,22,55,18],[74,31,55,27,"api"],[74,34,55,30],[74,35,55,30,"default"],[74,42,55,30],[74,43,55,31,"get"],[74,46,55,34],[74,47,55,35],[74,61,55,49],[74,62,55,50],[75,10,56,4],[75,17,56,11,"response"],[75,25,56,19],[75,26,56,20,"data"],[75,30,56,24],[76,8,57,2],[76,9,57,3],[77,8,57,3],[77,17,54,8,"getCurrentUser"],[77,31,54,22,"getCurrentUser"],[77,32,54,22],[78,10,54,22],[78,17,54,22,"_getCurrentUser"],[78,32,54,22],[78,33,54,22,"apply"],[78,38,54,22],[78,45,54,22,"arguments"],[78,54,54,22],[79,8,54,22],[80,8,54,22],[80,15,54,8,"getCurrentUser"],[80,29,54,22],[81,6,54,22],[82,4,54,22],[83,6,54,22,"key"],[83,9,54,22],[84,6,54,22,"value"],[84,11,54,22],[85,8,54,22],[85,12,54,22,"_logout"],[85,19,54,22],[85,26,54,22,"_asyncToGenerator"],[85,43,54,22],[85,44,54,22,"default"],[85,51,54,22],[85,53,59,2],[85,66,59,32],[86,10,60,4],[86,16,60,10,"storage"],[86,20,60,17],[86,21,60,17,"storage"],[86,28,60,17],[86,29,60,18,"deleteItem"],[86,39,60,28],[86,40,60,29],[86,52,60,41],[86,53,60,42],[87,8,61,2],[87,9,61,3],[88,8,61,3],[88,17,59,8,"logout"],[88,23,59,14,"logout"],[88,24,59,14],[89,10,59,14],[89,17,59,14,"_logout"],[89,24,59,14],[89,25,59,14,"apply"],[89,30,59,14],[89,37,59,14,"arguments"],[89,46,59,14],[90,8,59,14],[91,8,59,14],[91,15,59,8,"logout"],[91,21,59,14],[92,6,59,14],[93,4,59,14],[94,6,59,14,"key"],[94,9,59,14],[95,6,59,14,"value"],[95,11,59,14],[96,8,59,14],[96,12,59,14,"_getToken"],[96,21,59,14],[96,28,59,14,"_asyncToGenerator"],[96,45,59,14],[96,46,59,14,"default"],[96,53,59,14],[96,55,63,2],[96,68,63,43],[97,10,64,4],[97,23,64,17,"storage"],[97,27,64,24],[97,28,64,24,"storage"],[97,35,64,24],[97,36,64,25,"getItem"],[97,43,64,32],[97,44,64,33],[97,56,64,45],[97,57,64,46],[98,8,65,2],[98,9,65,3],[99,8,65,3],[99,17,63,8,"getToken"],[99,25,63,16,"getToken"],[99,26,63,16],[100,10,63,16],[100,17,63,16,"_getToken"],[100,26,63,16],[100,27,63,16,"apply"],[100,32,63,16],[100,39,63,16,"arguments"],[100,48,63,16],[101,8,63,16],[102,8,63,16],[102,15,63,8,"getToken"],[102,23,63,16],[103,6,63,16],[104,4,63,16],[105,2,63,16],[106,2,68,0],[106,6,68,0,"_default"],[106,14,68,0],[106,17,68,15],[106,21,68,19,"AuthService"],[106,32,68,30],[106,33,68,31],[106,34,68,32],[107,0,68,33],[107,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#signup","AuthService#getCurrentUser","AuthService#logout","AuthService#getToken"],"mappings":"AAA;AC4B;ECC;GDe;EEE;GFK;EGE;GHG;EIE;GJE;EKE;GLE;CDC"},"hasCjsExports":false},"type":"js/module"}]}