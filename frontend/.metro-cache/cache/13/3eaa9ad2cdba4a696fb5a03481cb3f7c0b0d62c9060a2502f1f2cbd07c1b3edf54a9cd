{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":49,"index":116}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"storage\", {\n    enumerable: true,\n    get: function () {\n      return storage;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // API URL centralisÃ©e - lit depuis app.json > extra.apiUrl\n  // Compatible avec tous les environnements : dev, preview, TestFlight, App Store\n  const API_URL = Constants.default.expoConfig?.extra?.apiUrl ?? Constants.default.manifest?.extra?.apiUrl ?? 'https://aerotrack-2.preview.emergentagent.com/api';\n  const api = axios.default.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Storage wrapper compatible web + native\n  const storage = {\n    async getItem(key) {\n      if (Platform.default.OS === 'web') {\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n\n  // Request interceptor to add token\n  api.interceptors.request.use(async config => {\n    const token = await storage.getItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":92,"map":[[27,2,59,0,"Object"],[27,8,59,0],[27,9,59,0,"defineProperty"],[27,23,59,0],[27,24,59,0,"exports"],[27,31,59,0],[28,4,59,0,"enumerable"],[28,14,59,0],[29,4,59,0,"get"],[29,7,59,0],[29,18,59,0,"get"],[29,19,59,0],[30,6,59,0],[30,13,59,0,"_default"],[30,21,59,0],[31,4,59,0],[32,2,59,0],[33,2,58,0,"Object"],[33,8,58,0],[33,9,58,0,"defineProperty"],[33,23,58,0],[33,24,58,0,"exports"],[33,31,58,0],[34,4,58,0,"enumerable"],[34,14,58,0],[35,4,58,0,"get"],[35,7,58,0],[35,18,58,0,"get"],[35,19,58,0],[36,6,58,0],[36,13,58,9,"storage"],[36,20,58,16],[37,4,58,16],[38,2,58,16],[39,2,1,0],[39,6,1,0,"_axios"],[39,12,1,0],[39,15,1,0,"require"],[39,22,1,0],[39,23,1,0,"_dependencyMap"],[39,37,1,0],[40,2,1,0],[40,6,1,0,"axios"],[40,11,1,0],[40,14,1,0,"_interopDefault"],[40,29,1,0],[40,30,1,0,"_axios"],[40,36,1,0],[41,2,2,0],[41,6,2,0,"_expoConstants"],[41,20,2,0],[41,23,2,0,"require"],[41,30,2,0],[41,31,2,0,"_dependencyMap"],[41,45,2,0],[42,2,2,0],[42,6,2,0,"Constants"],[42,15,2,0],[42,18,2,0,"_interopDefault"],[42,33,2,0],[42,34,2,0,"_expoConstants"],[42,48,2,0],[43,2,3,0],[43,6,3,0,"_expoSecureStore"],[43,22,3,0],[43,25,3,0,"require"],[43,32,3,0],[43,33,3,0,"_dependencyMap"],[43,47,3,0],[44,2,3,0],[44,6,3,0,"SecureStore"],[44,17,3,0],[44,20,3,0,"_interopNamespace"],[44,37,3,0],[44,38,3,0,"_expoSecureStore"],[44,54,3,0],[45,2,3,49],[45,6,3,49,"_reactNativeWebDistExportsPlatform"],[45,40,3,49],[45,43,3,49,"require"],[45,50,3,49],[45,51,3,49,"_dependencyMap"],[45,65,3,49],[46,2,3,49],[46,6,3,49,"Platform"],[46,14,3,49],[46,17,3,49,"_interopDefault"],[46,32,3,49],[46,33,3,49,"_reactNativeWebDistExportsPlatform"],[46,67,3,49],[47,2,6,0],[48,2,7,0],[49,2,8,0],[49,8,8,6,"API_URL"],[49,15,8,13],[49,18,9,2,"Constants"],[49,27,9,11],[49,28,9,11,"default"],[49,35,9,11],[49,36,9,12,"expoConfig"],[49,46,9,22],[49,48,9,24,"extra"],[49,53,9,29],[49,55,9,31,"apiUrl"],[49,61,9,37],[49,65,10,2,"Constants"],[49,74,10,11],[49,75,10,11,"default"],[49,82,10,11],[49,83,10,12,"manifest"],[49,91,10,20],[49,93,10,22,"extra"],[49,98,10,27],[49,100,10,29,"apiUrl"],[49,106,10,35],[49,110,11,2],[49,161,11,53],[50,2,13,0],[50,8,13,6,"api"],[50,11,13,9],[50,14,13,12,"axios"],[50,19,13,17],[50,20,13,17,"default"],[50,27,13,17],[50,28,13,18,"create"],[50,34,13,24],[50,35,13,25],[51,4,14,2,"baseURL"],[51,11,14,9],[51,13,14,11,"API_URL"],[51,20,14,18],[52,4,15,2,"headers"],[52,11,15,9],[52,13,15,11],[53,6,16,4],[53,20,16,18],[53,22,16,20],[54,4,17,2],[55,2,18,0],[55,3,18,1],[55,4,18,2],[57,2,20,0],[58,2,21,0],[58,8,21,6,"storage"],[58,15,21,13],[58,18,21,16],[59,4,22,2],[59,10,22,8,"getItem"],[59,17,22,15,"getItem"],[59,18,22,16,"key"],[59,21,22,27],[59,23,22,53],[60,6,23,4],[60,10,23,8,"Platform"],[60,18,23,16],[60,19,23,16,"default"],[60,26,23,16],[60,27,23,17,"OS"],[60,29,23,19],[60,34,23,24],[60,39,23,29],[60,41,23,31],[61,8,24,6],[61,15,24,13,"localStorage"],[61,27,24,25],[61,28,24,26,"getItem"],[61,35,24,33],[61,36,24,34,"key"],[61,39,24,37],[61,40,24,38],[62,6,25,4],[63,6,26,4],[63,13,26,11],[63,19,26,17,"SecureStore"],[63,30,26,28],[63,31,26,29,"getItemAsync"],[63,43,26,41],[63,44,26,42,"key"],[63,47,26,45],[63,48,26,46],[64,4,27,2],[64,5,27,3],[65,4,28,2],[65,10,28,8,"setItem"],[65,17,28,15,"setItem"],[65,18,28,16,"key"],[65,21,28,27],[65,23,28,29,"value"],[65,28,28,42],[65,30,28,59],[66,6,29,4],[66,10,29,8,"Platform"],[66,18,29,16],[66,19,29,16,"default"],[66,26,29,16],[66,27,29,17,"OS"],[66,29,29,19],[66,34,29,24],[66,39,29,29],[66,41,29,31],[67,8,30,6,"localStorage"],[67,20,30,18],[67,21,30,19,"setItem"],[67,28,30,26],[67,29,30,27,"key"],[67,32,30,30],[67,34,30,32,"value"],[67,39,30,37],[67,40,30,38],[68,6,31,4],[68,7,31,5],[68,13,31,11],[69,8,32,6],[69,14,32,12,"SecureStore"],[69,25,32,23],[69,26,32,24,"setItemAsync"],[69,38,32,36],[69,39,32,37,"key"],[69,42,32,40],[69,44,32,42,"value"],[69,49,32,47],[69,50,32,48],[70,6,33,4],[71,4,34,2],[71,5,34,3],[72,4,35,2],[72,10,35,8,"deleteItem"],[72,20,35,18,"deleteItem"],[72,21,35,19,"key"],[72,24,35,30],[72,26,35,47],[73,6,36,4],[73,10,36,8,"Platform"],[73,18,36,16],[73,19,36,16,"default"],[73,26,36,16],[73,27,36,17,"OS"],[73,29,36,19],[73,34,36,24],[73,39,36,29],[73,41,36,31],[74,8,37,6,"localStorage"],[74,20,37,18],[74,21,37,19,"removeItem"],[74,31,37,29],[74,32,37,30,"key"],[74,35,37,33],[74,36,37,34],[75,6,38,4],[75,7,38,5],[75,13,38,11],[76,8,39,6],[76,14,39,12,"SecureStore"],[76,25,39,23],[76,26,39,24,"deleteItemAsync"],[76,41,39,39],[76,42,39,40,"key"],[76,45,39,43],[76,46,39,44],[77,6,40,4],[78,4,41,2],[79,2,42,0],[79,3,42,1],[81,2,44,0],[82,2,45,0,"api"],[82,5,45,3],[82,6,45,4,"interceptors"],[82,18,45,16],[82,19,45,17,"request"],[82,26,45,24],[82,27,45,25,"use"],[82,30,45,28],[82,31,46,2],[82,37,46,9,"config"],[82,43,46,15],[82,47,46,20],[83,4,47,4],[83,10,47,10,"token"],[83,15,47,15],[83,18,47,18],[83,24,47,24,"storage"],[83,31,47,31],[83,32,47,32,"getItem"],[83,39,47,39],[83,40,47,40],[83,52,47,52],[83,53,47,53],[84,4,48,4],[84,8,48,8,"token"],[84,13,48,13],[84,15,48,15],[85,6,49,6,"config"],[85,12,49,12],[85,13,49,13,"headers"],[85,20,49,20],[85,21,49,21,"Authorization"],[85,34,49,34],[85,37,49,37],[85,47,49,47,"token"],[85,52,49,52],[85,54,49,54],[86,4,50,4],[87,4,51,4],[87,11,51,11,"config"],[87,17,51,17],[88,2,52,2],[88,3,52,3],[88,5,53,3,"error"],[88,10,53,8],[88,14,53,13],[89,4,54,4],[89,11,54,11,"Promise"],[89,18,54,18],[89,19,54,19,"reject"],[89,25,54,25],[89,26,54,26,"error"],[89,31,54,31],[89,32,54,32],[90,2,55,2],[90,3,56,0],[90,4,56,1],[91,2,59,0],[91,6,59,0,"_default"],[91,14,59,0],[91,17,59,15,"api"],[91,20,59,18],[92,0,59,19],[92,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1"],"mappings":"AAA;ECqB;GDK;EEC;GFM;EGC;GHM;EIK;GJM;EKC;GLE"},"hasCjsExports":false},"type":"js/module"}]}